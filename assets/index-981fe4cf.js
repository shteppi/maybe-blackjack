var nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kr={exports:{}},Ui;function mo(){return Ui||(Ui=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(_,p,d){this.fn=_,this.context=p,this.once=d||!1}function a(_,p,d,m,A){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new i(d,m||_,A),Y=n?n+p:p;return _._events[Y]?_._events[Y].fn?_._events[Y]=[_._events[Y],x]:_._events[Y].push(x):(_._events[Y]=x,_._eventsCount++),_}function c(_,p){--_._eventsCount===0?_._events=new r:delete _._events[p]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],d,m;if(this._eventsCount===0)return p;for(m in d=this._events)e.call(d,m)&&p.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(d)):p},u.prototype.listeners=function(p){var d=n?n+p:p,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var A=0,x=m.length,Y=new Array(x);A<x;A++)Y[A]=m[A].fn;return Y},u.prototype.listenerCount=function(p){var d=n?n+p:p,m=this._events[d];return m?m.fn?1:m.length:0},u.prototype.emit=function(p,d,m,A,x,Y){var H=n?n+p:p;if(!this._events[H])return!1;var L=this._events[H],_e=arguments.length,ie,ae;if(L.fn){switch(L.once&&this.removeListener(p,L.fn,void 0,!0),_e){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,d),!0;case 3:return L.fn.call(L.context,d,m),!0;case 4:return L.fn.call(L.context,d,m,A),!0;case 5:return L.fn.call(L.context,d,m,A,x),!0;case 6:return L.fn.call(L.context,d,m,A,x,Y),!0}for(ae=1,ie=new Array(_e-1);ae<_e;ae++)ie[ae-1]=arguments[ae];L.fn.apply(L.context,ie)}else{var Re=L.length,me;for(ae=0;ae<Re;ae++)switch(L[ae].once&&this.removeListener(p,L[ae].fn,void 0,!0),_e){case 1:L[ae].fn.call(L[ae].context);break;case 2:L[ae].fn.call(L[ae].context,d);break;case 3:L[ae].fn.call(L[ae].context,d,m);break;case 4:L[ae].fn.call(L[ae].context,d,m,A);break;default:if(!ie)for(me=1,ie=new Array(_e-1);me<_e;me++)ie[me-1]=arguments[me];L[ae].fn.apply(L[ae].context,ie)}}return!0},u.prototype.on=function(p,d,m){return a(this,p,d,m,!1)},u.prototype.once=function(p,d,m){return a(this,p,d,m,!0)},u.prototype.removeListener=function(p,d,m,A){var x=n?n+p:p;if(!this._events[x])return this;if(!d)return c(this,x),this;var Y=this._events[x];if(Y.fn)Y.fn===d&&(!A||Y.once)&&(!m||Y.context===m)&&c(this,x);else{for(var H=0,L=[],_e=Y.length;H<_e;H++)(Y[H].fn!==d||A&&!Y[H].once||m&&Y[H].context!==m)&&L.push(Y[H]);L.length?this._events[x]=L.length===1?L[0]:L:c(this,x)}return this},u.prototype.removeAllListeners=function(p){var d;return p?(d=n?n+p:p,this._events[d]&&c(this,d)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(kr)),kr.exports}var vo=mo(),Yi=Xr(vo),ne;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const c of i)a[c]=c;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),c={};for(const u of a)c[u]=i[u];return t.objectValues(c)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&a.push(c);return a},t.find=(i,a)=>{for(const c of i)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ne||(ne={}));var jr;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(jr||(jr={}));const U=ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tt=t=>{switch(typeof t){case"undefined":return U.undefined;case"string":return U.string;case"number":return isNaN(t)?U.nan:U.number;case"boolean":return U.boolean;case"function":return U.function;case"bigint":return U.bigint;case"symbol":return U.symbol;case"object":return Array.isArray(t)?U.array:t===null?U.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?U.promise:typeof Map<"u"&&t instanceof Map?U.map:typeof Set<"u"&&t instanceof Set?U.set:typeof Date<"u"&&t instanceof Date?U.date:U.object;default:return U.unknown}},R=ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Eo=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ge extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(i);else if(c.code==="invalid_return_type")i(c.returnTypeError);else if(c.code==="invalid_arguments")i(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let u=r,_=0;for(;_<c.path.length;){const p=c.path[_];_===c.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(n(c))):u[p]=u[p]||{_errors:[]},u=u[p],_++}}};return i(this),r}static assert(e){if(!(e instanceof Ge))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ge.create=t=>new Ge(t);const Xt=(t,e)=>{let n;switch(t.code){case R.invalid_type:t.received===U.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ne.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${ne.joinValues(t.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ne.joinValues(t.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${ne.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ne.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case R.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case R.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=e.defaultError,ne.assertNever(t)}return{message:n}};let zi=Xt;function yo(t){zi=t}function ar(){return zi}const sr=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],c={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let u="";const _=r.filter(p=>!!p).slice().reverse();for(const p of _)u=p(c,{data:e,defaultError:u}).message;return{...i,path:a,message:u}},To=[];function M(t,e){const n=ar(),r=sr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Xt?void 0:Xt].filter(i=>!!i)});t.common.issues.push(r)}class Ne{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return $;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,c=await i.value;r.push({key:a,value:c})}return Ne.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:c}=i;if(a.status==="aborted"||c.status==="aborted")return $;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||i.alwaysSet)&&(r[a.value]=c.value)}return{status:e.value,value:r}}}const $=Object.freeze({status:"aborted"}),Yt=t=>({status:"dirty",value:t}),xe=t=>({status:"valid",value:t}),qr=t=>t.status==="aborted",Fr=t=>t.status==="dirty",_n=t=>t.status==="valid",gn=t=>typeof Promise<"u"&&t instanceof Promise;function or(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Ci(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var G;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(G||(G={}));var cn,dn;class tt{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Pi=(t,e)=>{if(_n(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ge(t.common.issues);return this._error=n,this._error}}};function X(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(c,u)=>{var _,p;const{message:d}=t;return c.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:(_=d??r)!==null&&_!==void 0?_:u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:(p=d??n)!==null&&p!==void 0?p:u.defaultError}},description:i}}class W{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Tt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ne,ctx:{common:e.parent.common,data:e.data,parsedType:Tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Pi(i,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Tt(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(gn(i)?i:Promise.resolve(i));return Pi(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const c=e(i),u=()=>a.addIssue({code:R.custom,...r(i)});return typeof Promise<"u"&&c instanceof Promise?c.then(_=>_?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ce({schema:this,typeName:F.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return et.create(this,this._def)}nullable(){return Nt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ze.create(this,this._def)}promise(){return Jt.create(this,this._def)}or(e){return yn.create([this,e],this._def)}and(e){return Tn.create(this,e,this._def)}transform(e){return new Ce({...X(this._def),schema:this,typeName:F.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Nn({...X(this._def),innerType:this,defaultValue:n,typeName:F.ZodDefault})}brand(){return new Wr({typeName:F.ZodBranded,type:this,...X(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new wn({...X(this._def),innerType:this,catchValue:n,typeName:F.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ln.create(this,e)}readonly(){return Rn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const So=/^c[^\s-]{8,}$/i,bo=/^[0-9a-z]+$/,Ao=/^[0-9A-HJKMNP-TV-Z]{26}$/,Io=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,No=/^[a-z0-9_-]{21}$/i,wo=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ro=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Oo="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Br;const Do=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Lo=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,xo=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Xi="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Mo=new RegExp(`^${Xi}$`);function Wi(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Uo(t){return new RegExp(`^${Wi(t)}$`)}function Ji(t){let e=`${Xi}T${Wi(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Po(t,e){return!!((e==="v4"||!e)&&Do.test(t)||(e==="v6"||!e)&&Lo.test(t))}class Ye extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==U.string){const a=this._getOrReturnCtx(e);return M(a,{code:R.invalid_type,expected:U.string,received:a.parsedType}),$}const r=new Ne;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:R.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:R.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,u=e.data.length<a.value;(c||u)&&(i=this._getOrReturnCtx(e,i),c?M(i,{code:R.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&M(i,{code:R.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Ro.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"email",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Br||(Br=new RegExp(Oo,"u")),Br.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"emoji",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Io.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"uuid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")No.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"nanoid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")So.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")bo.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid2",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Ao.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ulid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),M(i,{validation:"url",code:R.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"regex",code:R.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),M(i,{code:R.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:R.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:R.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Ji(a).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:R.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Mo.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:R.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Uo(a).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:R.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?wo.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"duration",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Po(e.data,a.version)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ip",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?xo.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"base64",code:R.invalid_string,message:a.message}),r.dirty()):ne.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:R.invalid_string,...G.errToObj(r)})}_addCheck(e){return new Ye({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...G.errToObj(e)})}url(e){return this._addCheck({kind:"url",...G.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...G.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...G.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...G.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...G.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...G.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...G.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...G.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...G.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...G.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...G.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...G.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...G.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...G.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...G.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...G.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...G.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...G.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...G.errToObj(n)})}nonempty(e){return this.min(1,G.errToObj(e))}trim(){return new Ye({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ye({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ye({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ye.create=t=>{var e;return new Ye({checks:[],typeName:F.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...X(t)})};function ko(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),c=parseInt(e.toFixed(i).replace(".",""));return a%c/Math.pow(10,i)}class bt extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==U.number){const a=this._getOrReturnCtx(e);return M(a,{code:R.invalid_type,expected:U.number,received:a.parsedType}),$}let r;const i=new Ne;for(const a of this._def.checks)a.kind==="int"?ne.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),M(r,{code:R.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:R.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:R.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?ko(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),M(r,{code:R.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),M(r,{code:R.not_finite,message:a.message}),i.dirty()):ne.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new bt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new bt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:G.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:G.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ne.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}bt.create=t=>new bt({checks:[],typeName:F.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...X(t)});class At extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==U.bigint){const a=this._getOrReturnCtx(e);return M(a,{code:R.invalid_type,expected:U.bigint,received:a.parsedType}),$}let r;const i=new Ne;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:R.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:R.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),M(r,{code:R.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ne.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,i){return new At({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(i)}]})}_addCheck(e){return new At({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}At.create=t=>{var e;return new At({checks:[],typeName:F.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...X(t)})};class mn extends W{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==U.boolean){const r=this._getOrReturnCtx(e);return M(r,{code:R.invalid_type,expected:U.boolean,received:r.parsedType}),$}return xe(e.data)}}mn.create=t=>new mn({typeName:F.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...X(t)});class Bt extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==U.date){const a=this._getOrReturnCtx(e);return M(a,{code:R.invalid_type,expected:U.date,received:a.parsedType}),$}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return M(a,{code:R.invalid_date}),$}const r=new Ne;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:R.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:R.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ne.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:G.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:G.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Bt.create=t=>new Bt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:F.ZodDate,...X(t)});class lr extends W{_parse(e){if(this._getType(e)!==U.symbol){const r=this._getOrReturnCtx(e);return M(r,{code:R.invalid_type,expected:U.symbol,received:r.parsedType}),$}return xe(e.data)}}lr.create=t=>new lr({typeName:F.ZodSymbol,...X(t)});class vn extends W{_parse(e){if(this._getType(e)!==U.undefined){const r=this._getOrReturnCtx(e);return M(r,{code:R.invalid_type,expected:U.undefined,received:r.parsedType}),$}return xe(e.data)}}vn.create=t=>new vn({typeName:F.ZodUndefined,...X(t)});class En extends W{_parse(e){if(this._getType(e)!==U.null){const r=this._getOrReturnCtx(e);return M(r,{code:R.invalid_type,expected:U.null,received:r.parsedType}),$}return xe(e.data)}}En.create=t=>new En({typeName:F.ZodNull,...X(t)});class Wt extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return xe(e.data)}}Wt.create=t=>new Wt({typeName:F.ZodAny,...X(t)});class Pt extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xe(e.data)}}Pt.create=t=>new Pt({typeName:F.ZodUnknown,...X(t)});class gt extends W{_parse(e){const n=this._getOrReturnCtx(e);return M(n,{code:R.invalid_type,expected:U.never,received:n.parsedType}),$}}gt.create=t=>new gt({typeName:F.ZodNever,...X(t)});class ur extends W{_parse(e){if(this._getType(e)!==U.undefined){const r=this._getOrReturnCtx(e);return M(r,{code:R.invalid_type,expected:U.void,received:r.parsedType}),$}return xe(e.data)}}ur.create=t=>new ur({typeName:F.ZodVoid,...X(t)});class ze extends W{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==U.array)return M(n,{code:R.invalid_type,expected:U.array,received:n.parsedType}),$;if(i.exactLength!==null){const c=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(c||u)&&(M(n,{code:c?R.too_big:R.too_small,minimum:u?i.exactLength.value:void 0,maximum:c?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(M(n,{code:R.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(M(n,{code:R.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,u)=>i.type._parseAsync(new tt(n,c,n.path,u)))).then(c=>Ne.mergeArray(r,c));const a=[...n.data].map((c,u)=>i.type._parseSync(new tt(n,c,n.path,u)));return Ne.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new ze({...this._def,minLength:{value:e,message:G.toString(n)}})}max(e,n){return new ze({...this._def,maxLength:{value:e,message:G.toString(n)}})}length(e,n){return new ze({...this._def,exactLength:{value:e,message:G.toString(n)}})}nonempty(e){return this.min(1,e)}}ze.create=(t,e)=>new ze({type:t,minLength:null,maxLength:null,exactLength:null,typeName:F.ZodArray,...X(e)});function $t(t){if(t instanceof pe){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=et.create($t(r))}return new pe({...t._def,shape:()=>e})}else return t instanceof ze?new ze({...t._def,type:$t(t.element)}):t instanceof et?et.create($t(t.unwrap())):t instanceof Nt?Nt.create($t(t.unwrap())):t instanceof nt?nt.create(t.items.map(e=>$t(e))):t}class pe extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ne.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==U.object){const p=this._getOrReturnCtx(e);return M(p,{code:R.invalid_type,expected:U.object,received:p.parsedType}),$}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof gt&&this._def.unknownKeys==="strip"))for(const p in i.data)c.includes(p)||u.push(p);const _=[];for(const p of c){const d=a[p],m=i.data[p];_.push({key:{status:"valid",value:p},value:d._parse(new tt(i,m,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof gt){const p=this._def.unknownKeys;if(p==="passthrough")for(const d of u)_.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(p==="strict")u.length>0&&(M(i,{code:R.unrecognized_keys,keys:u}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const d of u){const m=i.data[d];_.push({key:{status:"valid",value:d},value:p._parse(new tt(i,m,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const d of _){const m=await d.key,A=await d.value;p.push({key:m,value:A,alwaysSet:d.alwaysSet})}return p}).then(p=>Ne.mergeObjectSync(r,p)):Ne.mergeObjectSync(r,_)}get shape(){return this._def.shape()}strict(e){return G.errToObj,new pe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,c,u;const _=(c=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&c!==void 0?c:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=G.errToObj(e).message)!==null&&u!==void 0?u:_}:{message:_}}}:{}})}strip(){return new pe({...this._def,unknownKeys:"strip"})}passthrough(){return new pe({...this._def,unknownKeys:"passthrough"})}extend(e){return new pe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:F.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new pe({...this._def,catchall:e})}pick(e){const n={};return ne.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new pe({...this._def,shape:()=>n})}omit(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new pe({...this._def,shape:()=>n})}deepPartial(){return $t(this)}partial(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new pe({...this._def,shape:()=>n})}required(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof et;)a=a._def.innerType;n[r]=a}}),new pe({...this._def,shape:()=>n})}keyof(){return Qi(ne.objectKeys(this.shape))}}pe.create=(t,e)=>new pe({shape:()=>t,unknownKeys:"strip",catchall:gt.create(),typeName:F.ZodObject,...X(e)});pe.strictCreate=(t,e)=>new pe({shape:()=>t,unknownKeys:"strict",catchall:gt.create(),typeName:F.ZodObject,...X(e)});pe.lazycreate=(t,e)=>new pe({shape:t,unknownKeys:"strip",catchall:gt.create(),typeName:F.ZodObject,...X(e)});class yn extends W{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const c=a.map(u=>new Ge(u.ctx.common.issues));return M(n,{code:R.invalid_union,unionErrors:c}),$}if(n.common.async)return Promise.all(r.map(async a=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(i);{let a;const c=[];for(const _ of r){const p={...n,common:{...n.common,issues:[]},parent:null},d=_._parseSync({data:n.data,path:n.path,parent:p});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=c.map(_=>new Ge(_));return M(n,{code:R.invalid_union,unionErrors:u}),$}}get options(){return this._def.options}}yn.create=(t,e)=>new yn({options:t,typeName:F.ZodUnion,...X(e)});const ft=t=>t instanceof bn?ft(t.schema):t instanceof Ce?ft(t.innerType()):t instanceof An?[t.value]:t instanceof It?t.options:t instanceof In?ne.objectValues(t.enum):t instanceof Nn?ft(t._def.innerType):t instanceof vn?[void 0]:t instanceof En?[null]:t instanceof et?[void 0,...ft(t.unwrap())]:t instanceof Nt?[null,...ft(t.unwrap())]:t instanceof Wr||t instanceof Rn?ft(t.unwrap()):t instanceof wn?ft(t._def.innerType):[];class hr extends W{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.object)return M(n,{code:R.invalid_type,expected:U.object,received:n.parsedType}),$;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(M(n,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),$)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const c=ft(a.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of c){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,a)}}return new hr({typeName:F.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...X(r)})}}function Kr(t,e){const n=Tt(t),r=Tt(e);if(t===e)return{valid:!0,data:t};if(n===U.object&&r===U.object){const i=ne.objectKeys(e),a=ne.objectKeys(t).filter(u=>i.indexOf(u)!==-1),c={...t,...e};for(const u of a){const _=Kr(t[u],e[u]);if(!_.valid)return{valid:!1};c[u]=_.data}return{valid:!0,data:c}}else if(n===U.array&&r===U.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const c=t[a],u=e[a],_=Kr(c,u);if(!_.valid)return{valid:!1};i.push(_.data)}return{valid:!0,data:i}}else return n===U.date&&r===U.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Tn extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,c)=>{if(qr(a)||qr(c))return $;const u=Kr(a.value,c.value);return u.valid?((Fr(a)||Fr(c))&&n.dirty(),{status:n.value,value:u.data}):(M(r,{code:R.invalid_intersection_types}),$)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,c])=>i(a,c)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Tn.create=(t,e,n)=>new Tn({left:t,right:e,typeName:F.ZodIntersection,...X(n)});class nt extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.array)return M(r,{code:R.invalid_type,expected:U.array,received:r.parsedType}),$;if(r.data.length<this._def.items.length)return M(r,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$;!this._def.rest&&r.data.length>this._def.items.length&&(M(r,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((c,u)=>{const _=this._def.items[u]||this._def.rest;return _?_._parse(new tt(r,c,r.path,u)):null}).filter(c=>!!c);return r.common.async?Promise.all(a).then(c=>Ne.mergeArray(n,c)):Ne.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new nt({...this._def,rest:e})}}nt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new nt({items:t,typeName:F.ZodTuple,rest:null,...X(e)})};class Sn extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.object)return M(r,{code:R.invalid_type,expected:U.object,received:r.parsedType}),$;const i=[],a=this._def.keyType,c=this._def.valueType;for(const u in r.data)i.push({key:a._parse(new tt(r,u,r.path,u)),value:c._parse(new tt(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Ne.mergeObjectAsync(n,i):Ne.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof W?new Sn({keyType:e,valueType:n,typeName:F.ZodRecord,...X(r)}):new Sn({keyType:Ye.create(),valueType:e,typeName:F.ZodRecord,...X(n)})}}class cr extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.map)return M(r,{code:R.invalid_type,expected:U.map,received:r.parsedType}),$;const i=this._def.keyType,a=this._def.valueType,c=[...r.data.entries()].map(([u,_],p)=>({key:i._parse(new tt(r,u,r.path,[p,"key"])),value:a._parse(new tt(r,_,r.path,[p,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const _ of c){const p=await _.key,d=await _.value;if(p.status==="aborted"||d.status==="aborted")return $;(p.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(p.value,d.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const _ of c){const p=_.key,d=_.value;if(p.status==="aborted"||d.status==="aborted")return $;(p.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(p.value,d.value)}return{status:n.value,value:u}}}}cr.create=(t,e,n)=>new cr({valueType:e,keyType:t,typeName:F.ZodMap,...X(n)});class Gt extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.set)return M(r,{code:R.invalid_type,expected:U.set,received:r.parsedType}),$;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(M(r,{code:R.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(M(r,{code:R.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function c(_){const p=new Set;for(const d of _){if(d.status==="aborted")return $;d.status==="dirty"&&n.dirty(),p.add(d.value)}return{status:n.value,value:p}}const u=[...r.data.values()].map((_,p)=>a._parse(new tt(r,_,r.path,p)));return r.common.async?Promise.all(u).then(_=>c(_)):c(u)}min(e,n){return new Gt({...this._def,minSize:{value:e,message:G.toString(n)}})}max(e,n){return new Gt({...this._def,maxSize:{value:e,message:G.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Gt.create=(t,e)=>new Gt({valueType:t,minSize:null,maxSize:null,typeName:F.ZodSet,...X(e)});class zt extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.function)return M(n,{code:R.invalid_type,expected:U.function,received:n.parsedType}),$;function r(u,_){return sr({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ar(),Xt].filter(p=>!!p),issueData:{code:R.invalid_arguments,argumentsError:_}})}function i(u,_){return sr({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ar(),Xt].filter(p=>!!p),issueData:{code:R.invalid_return_type,returnTypeError:_}})}const a={errorMap:n.common.contextualErrorMap},c=n.data;if(this._def.returns instanceof Jt){const u=this;return xe(async function(..._){const p=new Ge([]),d=await u._def.args.parseAsync(_,a).catch(x=>{throw p.addIssue(r(_,x)),p}),m=await Reflect.apply(c,this,d);return await u._def.returns._def.type.parseAsync(m,a).catch(x=>{throw p.addIssue(i(m,x)),p})})}else{const u=this;return xe(function(..._){const p=u._def.args.safeParse(_,a);if(!p.success)throw new Ge([r(_,p.error)]);const d=Reflect.apply(c,this,p.data),m=u._def.returns.safeParse(d,a);if(!m.success)throw new Ge([i(d,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zt({...this._def,args:nt.create(e).rest(Pt.create())})}returns(e){return new zt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new zt({args:e||nt.create([]).rest(Pt.create()),returns:n||Pt.create(),typeName:F.ZodFunction,...X(r)})}}class bn extends W{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}bn.create=(t,e)=>new bn({getter:t,typeName:F.ZodLazy,...X(e)});class An extends W{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return M(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),$}return{status:"valid",value:e.data}}get value(){return this._def.value}}An.create=(t,e)=>new An({value:t,typeName:F.ZodLiteral,...X(e)});function Qi(t,e){return new It({values:t,typeName:F.ZodEnum,...X(e)})}class It extends W{constructor(){super(...arguments),cn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return M(n,{expected:ne.joinValues(r),received:n.parsedType,code:R.invalid_type}),$}if(or(this,cn)||Ci(this,cn,new Set(this._def.values)),!or(this,cn).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return M(n,{received:n.data,code:R.invalid_enum_value,options:r}),$}return xe(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return It.create(e,{...this._def,...n})}exclude(e,n=this._def){return It.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}cn=new WeakMap;It.create=Qi;class In extends W{constructor(){super(...arguments),dn.set(this,void 0)}_parse(e){const n=ne.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==U.string&&r.parsedType!==U.number){const i=ne.objectValues(n);return M(r,{expected:ne.joinValues(i),received:r.parsedType,code:R.invalid_type}),$}if(or(this,dn)||Ci(this,dn,new Set(ne.getValidEnumValues(this._def.values))),!or(this,dn).has(e.data)){const i=ne.objectValues(n);return M(r,{received:r.data,code:R.invalid_enum_value,options:i}),$}return xe(e.data)}get enum(){return this._def.values}}dn=new WeakMap;In.create=(t,e)=>new In({values:t,typeName:F.ZodNativeEnum,...X(e)});class Jt extends W{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.promise&&n.common.async===!1)return M(n,{code:R.invalid_type,expected:U.promise,received:n.parsedType}),$;const r=n.parsedType===U.promise?n.data:Promise.resolve(n.data);return xe(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Jt.create=(t,e)=>new Jt({type:t,typeName:F.ZodPromise,...X(e)});class Ce extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===F.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:c=>{M(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const c=i.transform(r.data,a);if(r.common.async)return Promise.resolve(c).then(async u=>{if(n.value==="aborted")return $;const _=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return _.status==="aborted"?$:_.status==="dirty"||n.value==="dirty"?Yt(_.value):_});{if(n.value==="aborted")return $;const u=this._def.schema._parseSync({data:c,path:r.path,parent:r});return u.status==="aborted"?$:u.status==="dirty"||n.value==="dirty"?Yt(u.value):u}}if(i.type==="refinement"){const c=u=>{const _=i.refinement(u,a);if(r.common.async)return Promise.resolve(_);if(_ instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?$:(u.status==="dirty"&&n.dirty(),c(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?$:(u.status==="dirty"&&n.dirty(),c(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_n(c))return c;const u=i.transform(c.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>_n(c)?Promise.resolve(i.transform(c.value,a)).then(u=>({status:n.value,value:u})):c);ne.assertNever(i)}}Ce.create=(t,e,n)=>new Ce({schema:t,typeName:F.ZodEffects,effect:e,...X(n)});Ce.createWithPreprocess=(t,e,n)=>new Ce({schema:e,effect:{type:"preprocess",transform:t},typeName:F.ZodEffects,...X(n)});class et extends W{_parse(e){return this._getType(e)===U.undefined?xe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}et.create=(t,e)=>new et({innerType:t,typeName:F.ZodOptional,...X(e)});class Nt extends W{_parse(e){return this._getType(e)===U.null?xe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nt.create=(t,e)=>new Nt({innerType:t,typeName:F.ZodNullable,...X(e)});class Nn extends W{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===U.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Nn.create=(t,e)=>new Nn({innerType:t,typeName:F.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...X(e)});class wn extends W{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gn(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ge(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ge(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}wn.create=(t,e)=>new wn({innerType:t,typeName:F.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...X(e)});class dr extends W{_parse(e){if(this._getType(e)!==U.nan){const r=this._getOrReturnCtx(e);return M(r,{code:R.invalid_type,expected:U.nan,received:r.parsedType}),$}return{status:"valid",value:e.data}}}dr.create=t=>new dr({typeName:F.ZodNaN,...X(t)});const Bo=Symbol("zod_brand");class Wr extends W{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ln extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?$:a.status==="dirty"?(n.dirty(),Yt(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?$:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Ln({in:e,out:n,typeName:F.ZodPipeline})}}class Rn extends W{_parse(e){const n=this._def.innerType._parse(e),r=i=>(_n(i)&&(i.value=Object.freeze(i.value)),i);return gn(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Rn.create=(t,e)=>new Rn({innerType:t,typeName:F.ZodReadonly,...X(e)});function Jr(t,e={},n){return t?Wt.create().superRefine((r,i)=>{var a,c;if(!t(r)){const u=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,_=(c=(a=u.fatal)!==null&&a!==void 0?a:n)!==null&&c!==void 0?c:!0,p=typeof u=="string"?{message:u}:u;i.addIssue({code:"custom",...p,fatal:_})}}):Wt.create()}const Go={object:pe.lazycreate};var F;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(F||(F={}));const Vo=(t,e={message:`Input not instance of ${t.name}`})=>Jr(n=>n instanceof t,e),v=Ye.create,V=bt.create,Ho=dr.create,ea=At.create,K=mn.create,Zo=Bt.create,jo=lr.create,qo=vn.create,_r=En.create,Fo=Wt.create,On=Pt.create,Ko=gt.create,$o=ur.create,te=ze.create,D=pe.create,Yo=pe.strictCreate,Qr=yn.create,zo=hr.create,Co=Tn.create,Xo=nt.create,Wo=Sn.create,Jo=cr.create,Qo=Gt.create,el=zt.create,tl=bn.create,he=An.create,nl=It.create,Qt=In.create,rl=Jt.create,ki=Ce.create,ta=et.create,il=Nt.create,na=Ce.createWithPreprocess,al=Ln.create,sl=()=>v().optional(),ol=()=>V().optional(),ll=()=>K().optional(),ul={string:t=>Ye.create({...t,coerce:!0}),number:t=>bt.create({...t,coerce:!0}),boolean:t=>mn.create({...t,coerce:!0}),bigint:t=>At.create({...t,coerce:!0}),date:t=>Bt.create({...t,coerce:!0})},cl=$;var h=Object.freeze({__proto__:null,defaultErrorMap:Xt,setErrorMap:yo,getErrorMap:ar,makeIssue:sr,EMPTY_PATH:To,addIssueToContext:M,ParseStatus:Ne,INVALID:$,DIRTY:Yt,OK:xe,isAborted:qr,isDirty:Fr,isValid:_n,isAsync:gn,get util(){return ne},get objectUtil(){return jr},ZodParsedType:U,getParsedType:Tt,ZodType:W,datetimeRegex:Ji,ZodString:Ye,ZodNumber:bt,ZodBigInt:At,ZodBoolean:mn,ZodDate:Bt,ZodSymbol:lr,ZodUndefined:vn,ZodNull:En,ZodAny:Wt,ZodUnknown:Pt,ZodNever:gt,ZodVoid:ur,ZodArray:ze,ZodObject:pe,ZodUnion:yn,ZodDiscriminatedUnion:hr,ZodIntersection:Tn,ZodTuple:nt,ZodRecord:Sn,ZodMap:cr,ZodSet:Gt,ZodFunction:zt,ZodLazy:bn,ZodLiteral:An,ZodEnum:It,ZodNativeEnum:In,ZodPromise:Jt,ZodEffects:Ce,ZodTransformer:Ce,ZodOptional:et,ZodNullable:Nt,ZodDefault:Nn,ZodCatch:wn,ZodNaN:dr,BRAND:Bo,ZodBranded:Wr,ZodPipeline:Ln,ZodReadonly:Rn,custom:Jr,Schema:W,ZodSchema:W,late:Go,get ZodFirstPartyTypeKind(){return F},coerce:ul,any:Fo,array:te,bigint:ea,boolean:K,date:Zo,discriminatedUnion:zo,effect:ki,enum:nl,function:el,instanceof:Vo,intersection:Co,lazy:tl,literal:he,map:Jo,nan:Ho,nativeEnum:Qt,never:Ko,null:_r,nullable:il,number:V,object:D,oboolean:ll,onumber:ol,optional:ta,ostring:sl,pipeline:al,preprocess:na,promise:rl,record:Wo,set:Qo,strictObject:Yo,string:v,symbol:jo,transformer:ki,tuple:Xo,undefined:qo,union:Qr,unknown:On,void:$o,NEVER:cl,ZodIssueCode:R,quotelessJson:Eo,ZodError:Ge}),Gr={exports:{}},Bi;function dl(){return Bi||(Bi=1,function(t){var e=function(n){var r=1e7,i=7,a=9007199254740992,c=Y(a),u="0123456789abcdefghijklmnopqrstuvwxyz",_=typeof BigInt=="function";function p(s,l,g,y){return typeof s>"u"?p[0]:typeof l<"u"?+l==10&&!g?q(s):jn(s,l,g,y):q(s)}function d(s,l){this.value=s,this.sign=l,this.isSmall=!1}d.prototype=Object.create(p.prototype);function m(s){this.value=s,this.sign=s<0,this.isSmall=!0}m.prototype=Object.create(p.prototype);function A(s){this.value=s}A.prototype=Object.create(p.prototype);function x(s){return-a<s&&s<a}function Y(s){return s<1e7?[s]:s<1e14?[s%1e7,Math.floor(s/1e7)]:[s%1e7,Math.floor(s/1e7)%1e7,Math.floor(s/1e14)]}function H(s){L(s);var l=s.length;if(l<4&&at(s,c)<0)switch(l){case 0:return 0;case 1:return s[0];case 2:return s[0]+s[1]*r;default:return s[0]+(s[1]+s[2]*r)*r}return s}function L(s){for(var l=s.length;s[--l]===0;);s.length=l+1}function _e(s){for(var l=new Array(s),g=-1;++g<s;)l[g]=0;return l}function ie(s){return s>0?Math.floor(s):Math.ceil(s)}function ae(s,l){var g=s.length,y=l.length,S=new Array(g),T=0,I=r,N,w;for(w=0;w<y;w++)N=s[w]+l[w]+T,T=N>=I?1:0,S[w]=N-T*I;for(;w<g;)N=s[w]+T,T=N===I?1:0,S[w++]=N-T*I;return T>0&&S.push(T),S}function Re(s,l){return s.length>=l.length?ae(s,l):ae(l,s)}function me(s,l){var g=s.length,y=new Array(g),S=r,T,I;for(I=0;I<g;I++)T=s[I]-S+l,l=Math.floor(T/S),y[I]=T-l*S,l+=1;for(;l>0;)y[I++]=l%S,l=Math.floor(l/S);return y}d.prototype.add=function(s){var l=q(s);if(this.sign!==l.sign)return this.subtract(l.negate());var g=this.value,y=l.value;return l.isSmall?new d(me(g,Math.abs(y)),this.sign):new d(Re(g,y),this.sign)},d.prototype.plus=d.prototype.add,m.prototype.add=function(s){var l=q(s),g=this.value;if(g<0!==l.sign)return this.subtract(l.negate());var y=l.value;if(l.isSmall){if(x(g+y))return new m(g+y);y=Y(Math.abs(y))}return new d(me(y,Math.abs(g)),g<0)},m.prototype.plus=m.prototype.add,A.prototype.add=function(s){return new A(this.value+q(s).value)},A.prototype.plus=A.prototype.add;function Ve(s,l){var g=s.length,y=l.length,S=new Array(g),T=0,I=r,N,w;for(N=0;N<y;N++)w=s[N]-T-l[N],w<0?(w+=I,T=1):T=0,S[N]=w;for(N=y;N<g;N++){if(w=s[N]-T,w<0)w+=I;else{S[N++]=w;break}S[N]=w}for(;N<g;N++)S[N]=s[N];return L(S),S}function Se(s,l,g){var y;return at(s,l)>=0?y=Ve(s,l):(y=Ve(l,s),g=!g),y=H(y),typeof y=="number"?(g&&(y=-y),new m(y)):new d(y,g)}function ke(s,l,g){var y=s.length,S=new Array(y),T=-l,I=r,N,w;for(N=0;N<y;N++)w=s[N]+T,T=Math.floor(w/I),w%=I,S[N]=w<0?w+I:w;return S=H(S),typeof S=="number"?(g&&(S=-S),new m(S)):new d(S,g)}d.prototype.subtract=function(s){var l=q(s);if(this.sign!==l.sign)return this.add(l.negate());var g=this.value,y=l.value;return l.isSmall?ke(g,Math.abs(y),this.sign):Se(g,y,this.sign)},d.prototype.minus=d.prototype.subtract,m.prototype.subtract=function(s){var l=q(s),g=this.value;if(g<0!==l.sign)return this.add(l.negate());var y=l.value;return l.isSmall?new m(g-y):ke(y,Math.abs(g),g>=0)},m.prototype.minus=m.prototype.subtract,A.prototype.subtract=function(s){return new A(this.value-q(s).value)},A.prototype.minus=A.prototype.subtract,d.prototype.negate=function(){return new d(this.value,!this.sign)},m.prototype.negate=function(){var s=this.sign,l=new m(-this.value);return l.sign=!s,l},A.prototype.negate=function(){return new A(-this.value)},d.prototype.abs=function(){return new d(this.value,!1)},m.prototype.abs=function(){return new m(Math.abs(this.value))},A.prototype.abs=function(){return new A(this.value>=0?this.value:-this.value)};function Fe(s,l){var g=s.length,y=l.length,S=g+y,T=_e(S),I=r,N,w,Z,Q,z;for(Z=0;Z<g;++Z){Q=s[Z];for(var re=0;re<y;++re)z=l[re],N=Q*z+T[Z+re],w=Math.floor(N/I),T[Z+re]=N-w*I,T[Z+re+1]+=w}return L(T),T}function He(s,l){var g=s.length,y=new Array(g),S=r,T=0,I,N;for(N=0;N<g;N++)I=s[N]*l+T,T=Math.floor(I/S),y[N]=I-T*S;for(;T>0;)y[N++]=T%S,T=Math.floor(T/S);return y}function Oe(s,l){for(var g=[];l-- >0;)g.push(0);return g.concat(s)}function oe(s,l){var g=Math.max(s.length,l.length);if(g<=30)return Fe(s,l);g=Math.ceil(g/2);var y=s.slice(g),S=s.slice(0,g),T=l.slice(g),I=l.slice(0,g),N=oe(S,I),w=oe(y,T),Z=oe(Re(S,y),Re(I,T)),Q=Re(Re(N,Oe(Ve(Ve(Z,N),w),g)),Oe(w,2*g));return L(Q),Q}function Tr(s,l){return-.012*s-.012*l+15e-6*s*l>0}d.prototype.multiply=function(s){var l=q(s),g=this.value,y=l.value,S=this.sign!==l.sign,T;if(l.isSmall){if(y===0)return p[0];if(y===1)return this;if(y===-1)return this.negate();if(T=Math.abs(y),T<r)return new d(He(g,T),S);y=Y(T)}return Tr(g.length,y.length)?new d(oe(g,y),S):new d(Fe(g,y),S)},d.prototype.times=d.prototype.multiply;function Mn(s,l,g){return s<r?new d(He(l,s),g):new d(Fe(l,Y(s)),g)}m.prototype._multiplyBySmall=function(s){return x(s.value*this.value)?new m(s.value*this.value):Mn(Math.abs(s.value),Y(Math.abs(this.value)),this.sign!==s.sign)},d.prototype._multiplyBySmall=function(s){return s.value===0?p[0]:s.value===1?this:s.value===-1?this.negate():Mn(Math.abs(s.value),this.value,this.sign!==s.sign)},m.prototype.multiply=function(s){return q(s)._multiplyBySmall(this)},m.prototype.times=m.prototype.multiply,A.prototype.multiply=function(s){return new A(this.value*q(s).value)},A.prototype.times=A.prototype.multiply;function Un(s){var l=s.length,g=_e(l+l),y=r,S,T,I,N,w;for(I=0;I<l;I++){N=s[I],T=0-N*N;for(var Z=I;Z<l;Z++)w=s[Z],S=2*(N*w)+g[I+Z]+T,T=Math.floor(S/y),g[I+Z]=S-T*y;g[I+l]=T}return L(g),g}d.prototype.square=function(){return new d(Un(this.value),!1)},m.prototype.square=function(){var s=this.value*this.value;return x(s)?new m(s):new d(Un(Y(Math.abs(this.value))),!1)},A.prototype.square=function(s){return new A(this.value*this.value)};function Sr(s,l){var g=s.length,y=l.length,S=r,T=_e(l.length),I=l[y-1],N=Math.ceil(S/(2*I)),w=He(s,N),Z=He(l,N),Q,z,re,De,be,sn,on;for(w.length<=g&&w.push(0),Z.push(0),I=Z[y-1],z=g-y;z>=0;z--){for(Q=S-1,w[z+y]!==I&&(Q=Math.floor((w[z+y]*S+w[z+y-1])/I)),re=0,De=0,sn=Z.length,be=0;be<sn;be++)re+=Q*Z[be],on=Math.floor(re/S),De+=w[z+be]-(re-on*S),re=on,De<0?(w[z+be]=De+S,De=-1):(w[z+be]=De,De=0);for(;De!==0;){for(Q-=1,re=0,be=0;be<sn;be++)re+=w[z+be]-S+Z[be],re<0?(w[z+be]=re+S,re=0):(w[z+be]=re,re=1);De+=re}T[z]=Q}return w=Pn(w,N)[0],[H(T),H(w)]}function br(s,l){for(var g=s.length,y=l.length,S=[],T=[],I=r,N,w,Z,Q,z;g;){if(T.unshift(s[--g]),L(T),at(T,l)<0){S.push(0);continue}w=T.length,Z=T[w-1]*I+T[w-2],Q=l[y-1]*I+l[y-2],w>y&&(Z=(Z+1)*I),N=Math.ceil(Z/Q);do{if(z=He(l,N),at(z,T)<=0)break;N--}while(N);S.push(N),T=Ve(T,z)}return S.reverse(),[H(S),H(T)]}function Pn(s,l){var g=s.length,y=_e(g),S=r,T,I,N,w;for(N=0,T=g-1;T>=0;--T)w=N*S+s[T],I=ie(w/l),N=w-I*l,y[T]=I|0;return[y,N|0]}function it(s,l){var g,y=q(l);if(_)return[new A(s.value/y.value),new A(s.value%y.value)];var S=s.value,T=y.value,I;if(T===0)throw new Error("Cannot divide by zero");if(s.isSmall)return y.isSmall?[new m(ie(S/T)),new m(S%T)]:[p[0],s];if(y.isSmall){if(T===1)return[s,p[0]];if(T==-1)return[s.negate(),p[0]];var N=Math.abs(T);if(N<r){g=Pn(S,N),I=H(g[0]);var w=g[1];return s.sign&&(w=-w),typeof I=="number"?(s.sign!==y.sign&&(I=-I),[new m(I),new m(w)]):[new d(I,s.sign!==y.sign),new m(w)]}T=Y(N)}var Z=at(S,T);if(Z===-1)return[p[0],s];if(Z===0)return[p[s.sign===y.sign?1:-1],p[0]];S.length+T.length<=200?g=Sr(S,T):g=br(S,T),I=g[0];var Q=s.sign!==y.sign,z=g[1],re=s.sign;return typeof I=="number"?(Q&&(I=-I),I=new m(I)):I=new d(I,Q),typeof z=="number"?(re&&(z=-z),z=new m(z)):z=new d(z,re),[I,z]}d.prototype.divmod=function(s){var l=it(this,s);return{quotient:l[0],remainder:l[1]}},A.prototype.divmod=m.prototype.divmod=d.prototype.divmod,d.prototype.divide=function(s){return it(this,s)[0]},A.prototype.over=A.prototype.divide=function(s){return new A(this.value/q(s).value)},m.prototype.over=m.prototype.divide=d.prototype.over=d.prototype.divide,d.prototype.mod=function(s){return it(this,s)[1]},A.prototype.mod=A.prototype.remainder=function(s){return new A(this.value%q(s).value)},m.prototype.remainder=m.prototype.mod=d.prototype.remainder=d.prototype.mod,d.prototype.pow=function(s){var l=q(s),g=this.value,y=l.value,S,T,I;if(y===0)return p[1];if(g===0)return p[0];if(g===1)return p[1];if(g===-1)return l.isEven()?p[1]:p[-1];if(l.sign)return p[0];if(!l.isSmall)throw new Error("The exponent "+l.toString()+" is too large.");if(this.isSmall&&x(S=Math.pow(g,y)))return new m(ie(S));for(T=this,I=p[1];y&!0&&(I=I.times(T),--y),y!==0;)y/=2,T=T.square();return I},m.prototype.pow=d.prototype.pow,A.prototype.pow=function(s){var l=q(s),g=this.value,y=l.value,S=BigInt(0),T=BigInt(1),I=BigInt(2);if(y===S)return p[1];if(g===S)return p[0];if(g===T)return p[1];if(g===BigInt(-1))return l.isEven()?p[1]:p[-1];if(l.isNegative())return new A(S);for(var N=this,w=p[1];(y&T)===T&&(w=w.times(N),--y),y!==S;)y/=I,N=N.square();return w},d.prototype.modPow=function(s,l){if(s=q(s),l=q(l),l.isZero())throw new Error("Cannot take modPow with modulus 0");var g=p[1],y=this.mod(l);for(s.isNegative()&&(s=s.multiply(p[-1]),y=y.modInv(l));s.isPositive();){if(y.isZero())return p[0];s.isOdd()&&(g=g.multiply(y).mod(l)),s=s.divide(2),y=y.square().mod(l)}return g},A.prototype.modPow=m.prototype.modPow=d.prototype.modPow;function at(s,l){if(s.length!==l.length)return s.length>l.length?1:-1;for(var g=s.length-1;g>=0;g--)if(s[g]!==l[g])return s[g]>l[g]?1:-1;return 0}d.prototype.compareAbs=function(s){var l=q(s),g=this.value,y=l.value;return l.isSmall?1:at(g,y)},m.prototype.compareAbs=function(s){var l=q(s),g=Math.abs(this.value),y=l.value;return l.isSmall?(y=Math.abs(y),g===y?0:g>y?1:-1):-1},A.prototype.compareAbs=function(s){var l=this.value,g=q(s).value;return l=l>=0?l:-l,g=g>=0?g:-g,l===g?0:l>g?1:-1},d.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=q(s),g=this.value,y=l.value;return this.sign!==l.sign?l.sign?1:-1:l.isSmall?this.sign?-1:1:at(g,y)*(this.sign?-1:1)},d.prototype.compareTo=d.prototype.compare,m.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=q(s),g=this.value,y=l.value;return l.isSmall?g==y?0:g>y?1:-1:g<0!==l.sign?g<0?-1:1:g<0?1:-1},m.prototype.compareTo=m.prototype.compare,A.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=this.value,g=q(s).value;return l===g?0:l>g?1:-1},A.prototype.compareTo=A.prototype.compare,d.prototype.equals=function(s){return this.compare(s)===0},A.prototype.eq=A.prototype.equals=m.prototype.eq=m.prototype.equals=d.prototype.eq=d.prototype.equals,d.prototype.notEquals=function(s){return this.compare(s)!==0},A.prototype.neq=A.prototype.notEquals=m.prototype.neq=m.prototype.notEquals=d.prototype.neq=d.prototype.notEquals,d.prototype.greater=function(s){return this.compare(s)>0},A.prototype.gt=A.prototype.greater=m.prototype.gt=m.prototype.greater=d.prototype.gt=d.prototype.greater,d.prototype.lesser=function(s){return this.compare(s)<0},A.prototype.lt=A.prototype.lesser=m.prototype.lt=m.prototype.lesser=d.prototype.lt=d.prototype.lesser,d.prototype.greaterOrEquals=function(s){return this.compare(s)>=0},A.prototype.geq=A.prototype.greaterOrEquals=m.prototype.geq=m.prototype.greaterOrEquals=d.prototype.geq=d.prototype.greaterOrEquals,d.prototype.lesserOrEquals=function(s){return this.compare(s)<=0},A.prototype.leq=A.prototype.lesserOrEquals=m.prototype.leq=m.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals,d.prototype.isEven=function(){return(this.value[0]&1)===0},m.prototype.isEven=function(){return(this.value&1)===0},A.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},d.prototype.isOdd=function(){return(this.value[0]&1)===1},m.prototype.isOdd=function(){return(this.value&1)===1},A.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},d.prototype.isPositive=function(){return!this.sign},m.prototype.isPositive=function(){return this.value>0},A.prototype.isPositive=m.prototype.isPositive,d.prototype.isNegative=function(){return this.sign},m.prototype.isNegative=function(){return this.value<0},A.prototype.isNegative=m.prototype.isNegative,d.prototype.isUnit=function(){return!1},m.prototype.isUnit=function(){return Math.abs(this.value)===1},A.prototype.isUnit=function(){return this.abs().value===BigInt(1)},d.prototype.isZero=function(){return!1},m.prototype.isZero=function(){return this.value===0},A.prototype.isZero=function(){return this.value===BigInt(0)},d.prototype.isDivisibleBy=function(s){var l=q(s);return l.isZero()?!1:l.isUnit()?!0:l.compareAbs(2)===0?this.isEven():this.mod(l).isZero()},A.prototype.isDivisibleBy=m.prototype.isDivisibleBy=d.prototype.isDivisibleBy;function kn(s){var l=s.abs();if(l.isUnit())return!1;if(l.equals(2)||l.equals(3)||l.equals(5))return!0;if(l.isEven()||l.isDivisibleBy(3)||l.isDivisibleBy(5))return!1;if(l.lesser(49))return!0}function nn(s,l){for(var g=s.prev(),y=g,S=0,T,I,N;y.isEven();)y=y.divide(2),S++;e:for(I=0;I<l.length;I++)if(!s.lesser(l[I])&&(N=e(l[I]).modPow(y,s),!(N.isUnit()||N.equals(g)))){for(T=S-1;T!=0;T--){if(N=N.square().mod(s),N.isUnit())return!1;if(N.equals(g))continue e}return!1}return!0}d.prototype.isPrime=function(s){var l=kn(this);if(l!==n)return l;var g=this.abs(),y=g.bitLength();if(y<=64)return nn(g,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var S=Math.log(2)*y.toJSNumber(),T=Math.ceil(s===!0?2*Math.pow(S,2):S),I=[],N=0;N<T;N++)I.push(e(N+2));return nn(g,I)},A.prototype.isPrime=m.prototype.isPrime=d.prototype.isPrime,d.prototype.isProbablePrime=function(s,l){var g=kn(this);if(g!==n)return g;for(var y=this.abs(),S=s===n?5:s,T=[],I=0;I<S;I++)T.push(e.randBetween(2,y.minus(2),l));return nn(y,T)},A.prototype.isProbablePrime=m.prototype.isProbablePrime=d.prototype.isProbablePrime,d.prototype.modInv=function(s){for(var l=e.zero,g=e.one,y=q(s),S=this.abs(),T,I,N;!S.isZero();)T=y.divide(S),I=l,N=y,l=g,y=S,g=I.subtract(T.multiply(g)),S=N.subtract(T.multiply(S));if(!y.isUnit())throw new Error(this.toString()+" and "+s.toString()+" are not co-prime");return l.compare(0)===-1&&(l=l.add(s)),this.isNegative()?l.negate():l},A.prototype.modInv=m.prototype.modInv=d.prototype.modInv,d.prototype.next=function(){var s=this.value;return this.sign?ke(s,1,this.sign):new d(me(s,1),this.sign)},m.prototype.next=function(){var s=this.value;return s+1<a?new m(s+1):new d(c,!1)},A.prototype.next=function(){return new A(this.value+BigInt(1))},d.prototype.prev=function(){var s=this.value;return this.sign?new d(me(s,1),!0):ke(s,1,this.sign)},m.prototype.prev=function(){var s=this.value;return s-1>-a?new m(s-1):new d(c,!0)},A.prototype.prev=function(){return new A(this.value-BigInt(1))};for(var Ke=[1];2*Ke[Ke.length-1]<=r;)Ke.push(2*Ke[Ke.length-1]);var Rt=Ke.length,st=Ke[Rt-1];function Bn(s){return Math.abs(s)<=r}d.prototype.shiftLeft=function(s){var l=q(s).toJSNumber();if(!Bn(l))throw new Error(String(l)+" is too large for shifting.");if(l<0)return this.shiftRight(-l);var g=this;if(g.isZero())return g;for(;l>=Rt;)g=g.multiply(st),l-=Rt-1;return g.multiply(Ke[l])},A.prototype.shiftLeft=m.prototype.shiftLeft=d.prototype.shiftLeft,d.prototype.shiftRight=function(s){var l,g=q(s).toJSNumber();if(!Bn(g))throw new Error(String(g)+" is too large for shifting.");if(g<0)return this.shiftLeft(-g);for(var y=this;g>=Rt;){if(y.isZero()||y.isNegative()&&y.isUnit())return y;l=it(y,st),y=l[1].isNegative()?l[0].prev():l[0],g-=Rt-1}return l=it(y,Ke[g]),l[1].isNegative()?l[0].prev():l[0]},A.prototype.shiftRight=m.prototype.shiftRight=d.prototype.shiftRight;function rn(s,l,g){l=q(l);for(var y=s.isNegative(),S=l.isNegative(),T=y?s.not():s,I=S?l.not():l,N=0,w=0,Z=null,Q=null,z=[];!T.isZero()||!I.isZero();)Z=it(T,st),N=Z[1].toJSNumber(),y&&(N=st-1-N),Q=it(I,st),w=Q[1].toJSNumber(),S&&(w=st-1-w),T=Z[0],I=Q[0],z.push(g(N,w));for(var re=g(y?1:0,S?1:0)!==0?e(-1):e(0),De=z.length-1;De>=0;De-=1)re=re.multiply(st).add(e(z[De]));return re}d.prototype.not=function(){return this.negate().prev()},A.prototype.not=m.prototype.not=d.prototype.not,d.prototype.and=function(s){return rn(this,s,function(l,g){return l&g})},A.prototype.and=m.prototype.and=d.prototype.and,d.prototype.or=function(s){return rn(this,s,function(l,g){return l|g})},A.prototype.or=m.prototype.or=d.prototype.or,d.prototype.xor=function(s){return rn(this,s,function(l,g){return l^g})},A.prototype.xor=m.prototype.xor=d.prototype.xor;var se=1<<30,Gn=(r&-r)*(r&-r)|se;function jt(s){var l=s.value,g=typeof l=="number"?l|se:typeof l=="bigint"?l|BigInt(se):l[0]+l[1]*r|Gn;return g&-g}function $e(s,l){if(l.compareTo(s)<=0){var g=$e(s,l.square(l)),y=g.p,S=g.e,T=y.multiply(l);return T.compareTo(s)<=0?{p:T,e:S*2+1}:{p:y,e:S*2}}return{p:e(1),e:0}}d.prototype.bitLength=function(){var s=this;return s.compareTo(e(0))<0&&(s=s.negate().subtract(e(1))),s.compareTo(e(0))===0?e(0):e($e(s,e(2)).e).add(e(1))},A.prototype.bitLength=m.prototype.bitLength=d.prototype.bitLength;function an(s,l){return s=q(s),l=q(l),s.greater(l)?s:l}function qt(s,l){return s=q(s),l=q(l),s.lesser(l)?s:l}function Vn(s,l){if(s=q(s).abs(),l=q(l).abs(),s.equals(l))return s;if(s.isZero())return l;if(l.isZero())return s;for(var g=p[1],y,S;s.isEven()&&l.isEven();)y=qt(jt(s),jt(l)),s=s.divide(y),l=l.divide(y),g=g.multiply(y);for(;s.isEven();)s=s.divide(jt(s));do{for(;l.isEven();)l=l.divide(jt(l));s.greater(l)&&(S=l,l=s,s=S),l=l.subtract(s)}while(!l.isZero());return g.isUnit()?s:s.multiply(g)}function Hn(s,l){return s=q(s).abs(),l=q(l).abs(),s.divide(Vn(s,l)).multiply(l)}function Zn(s,l,g){s=q(s),l=q(l);var y=g||Math.random,S=qt(s,l),T=an(s,l),I=T.subtract(S).add(1);if(I.isSmall)return S.add(Math.floor(y()*I));for(var N=Ot(I,r).value,w=[],Z=!0,Q=0;Q<N.length;Q++){var z=Z?N[Q]+(Q+1<N.length?N[Q+1]/r:0):r,re=ie(y()*z);w.push(re),re<N[Q]&&(Z=!1)}return S.add(p.fromArray(w,r,!1))}var jn=function(s,l,g,y){g=g||u,s=String(s),y||(s=s.toLowerCase(),g=g.toLowerCase());var S=s.length,T,I=Math.abs(l),N={};for(T=0;T<g.length;T++)N[g[T]]=T;for(T=0;T<S;T++){var w=s[T];if(w!=="-"&&w in N&&N[w]>=I){if(w==="1"&&I===1)continue;throw new Error(w+" is not a valid digit in base "+l+".")}}l=q(l);var Z=[],Q=s[0]==="-";for(T=Q?1:0;T<s.length;T++){var w=s[T];if(w in N)Z.push(q(N[w]));else if(w==="<"){var z=T;do T++;while(s[T]!==">"&&T<s.length);Z.push(q(s.slice(z+1,T)))}else throw new Error(w+" is not a valid character")}return qn(Z,l,Q)};function qn(s,l,g){var y=p[0],S=p[1],T;for(T=s.length-1;T>=0;T--)y=y.add(s[T].times(S)),S=S.times(l);return g?y.negate():y}function Ar(s,l){return l=l||u,s<l.length?l[s]:"<"+s+">"}function Ot(s,l){if(l=e(l),l.isZero()){if(s.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(l.equals(-1)){if(s.isZero())return{value:[0],isNegative:!1};if(s.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-s.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var g=Array.apply(null,Array(s.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return g.unshift([1]),{value:[].concat.apply([],g),isNegative:!1}}var y=!1;if(s.isNegative()&&l.isPositive()&&(y=!0,s=s.abs()),l.isUnit())return s.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(s.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:y};for(var S=[],T=s,I;T.isNegative()||T.compareAbs(l)>=0;){I=T.divmod(l),T=I.quotient;var N=I.remainder;N.isNegative()&&(N=l.minus(N).abs(),T=T.next()),S.push(N.toJSNumber())}return S.push(T.toJSNumber()),{value:S.reverse(),isNegative:y}}function Fn(s,l,g){var y=Ot(s,l);return(y.isNegative?"-":"")+y.value.map(function(S){return Ar(S,g)}).join("")}d.prototype.toArray=function(s){return Ot(this,s)},m.prototype.toArray=function(s){return Ot(this,s)},A.prototype.toArray=function(s){return Ot(this,s)},d.prototype.toString=function(s,l){if(s===n&&(s=10),s!==10||l)return Fn(this,s,l);for(var g=this.value,y=g.length,S=String(g[--y]),T="0000000",I;--y>=0;)I=String(g[y]),S+=T.slice(I.length)+I;var N=this.sign?"-":"";return N+S},m.prototype.toString=function(s,l){return s===n&&(s=10),s!=10||l?Fn(this,s,l):String(this.value)},A.prototype.toString=m.prototype.toString,A.prototype.toJSON=d.prototype.toJSON=m.prototype.toJSON=function(){return this.toString()},d.prototype.valueOf=function(){return parseInt(this.toString(),10)},d.prototype.toJSNumber=d.prototype.valueOf,m.prototype.valueOf=function(){return this.value},m.prototype.toJSNumber=m.prototype.valueOf,A.prototype.valueOf=A.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Kn(s){if(x(+s)){var l=+s;if(l===ie(l))return _?new A(BigInt(l)):new m(l);throw new Error("Invalid integer: "+s)}var g=s[0]==="-";g&&(s=s.slice(1));var y=s.split(/e/i);if(y.length>2)throw new Error("Invalid integer: "+y.join("e"));if(y.length===2){var S=y[1];if(S[0]==="+"&&(S=S.slice(1)),S=+S,S!==ie(S)||!x(S))throw new Error("Invalid integer: "+S+" is not a valid exponent.");var T=y[0],I=T.indexOf(".");if(I>=0&&(S-=T.length-I-1,T=T.slice(0,I)+T.slice(I+1)),S<0)throw new Error("Cannot include negative exponent part for integers");T+=new Array(S+1).join("0"),s=T}var N=/^([0-9][0-9]*)$/.test(s);if(!N)throw new Error("Invalid integer: "+s);if(_)return new A(BigInt(g?"-"+s:s));for(var w=[],Z=s.length,Q=i,z=Z-Q;Z>0;)w.push(+s.slice(z,Z)),z-=Q,z<0&&(z=0),Z-=Q;return L(w),new d(w,g)}function Ir(s){if(_)return new A(BigInt(s));if(x(s)){if(s!==ie(s))throw new Error(s+" is not an integer.");return new m(s)}return Kn(s.toString())}function q(s){return typeof s=="number"?Ir(s):typeof s=="string"?Kn(s):typeof s=="bigint"?new A(s):s}for(var ot=0;ot<1e3;ot++)p[ot]=q(ot),ot>0&&(p[-ot]=q(-ot));return p.one=p[1],p.zero=p[0],p.minusOne=p[-1],p.max=an,p.min=qt,p.gcd=Vn,p.lcm=Hn,p.isInstance=function(s){return s instanceof d||s instanceof m||s instanceof A},p.randBetween=Zn,p.fromArray=function(s,l,g){return qn(s.map(q),q(l||10),g)},p}();t.hasOwnProperty("exports")&&(t.exports=e)}(Gr)),Gr.exports}var pl=dl(),ra=Xr(pl);const ia=64,$r=16,St=ia/$r;function fl(){try{return!0}catch{return!1}}function hl(t,e,n){let r=0;for(let i=0;i<n;i++){const a=t[e+i];if(a===void 0)break;r+=a*16**i}return r}function aa(t){const e=[];for(let n=0;n<t.length;n++){let r=Number(t[n]);for(let i=0;r||i<e.length;i++)r+=(e[i]||0)*10,e[i]=r%16,r=(r-e[i])/16}return e}function _l(t){const e=aa(t),n=Array(St);for(let r=0;r<St;r++)n[St-1-r]=hl(e,r*St,St);return n}class We{static fromString(e){return new We(_l(e),e)}static fromBit(e){const n=Array(St),r=Math.floor(e/$r);for(let i=0;i<St;i++)n[St-1-i]=i===r?1<<e-r*$r:0;return new We(n)}constructor(e,n){this.parts=e,this.str=n}and({parts:e}){return new We(this.parts.map((n,r)=>n&e[r]))}or({parts:e}){return new We(this.parts.map((n,r)=>n|e[r]))}xor({parts:e}){return new We(this.parts.map((n,r)=>n^e[r]))}not(){return new We(this.parts.map(e=>~e))}equals({parts:e}){return this.parts.every((n,r)=>n===e[r])}toString(){if(this.str!=null)return this.str;const e=new Array(ia/4);return this.parts.forEach((n,r)=>{const i=aa(n.toString());for(let a=0;a<4;a++)e[a+r*4]=i[4-1-a]||0}),this.str=ra.fromArray(e,16).toString()}toJSON(){return this.toString()}}const wt=fl();wt&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});const rr={},sa=wt?function(e){return BigInt(e)}:function(e){return e instanceof We?e:(typeof e=="number"&&(e=e.toString()),rr[e]!=null||(rr[e]=We.fromString(e)),rr[e])},Te=sa(0),gr=wt?function(e=Te,n=Te){return e&n}:function(e=Te,n=Te){return e.and(n)},oa=wt?function(e=Te,n=Te){return e|n}:function(e=Te,n=Te){return e.or(n)},gl=wt?function(e=Te,n=Te){return e^n}:function(e=Te,n=Te){return e.xor(n)},ml=wt?function(e=Te){return~e}:function(e=Te){return e.not()},ei=wt?function(e,n){return e===n}:function(e,n){return e==null||n==null?e==n:e.equals(n)};function vl(...t){let e=t[0];for(let n=1;n<t.length;n++)e=oa(e,t[n]);return e}function El(t,e){return ei(gr(t,e),e)}function yl(t,e){return!ei(gr(t,e),Te)}function Tl(t,e){return e===Te?t:oa(t,e)}function Sl(t,e){return e===Te?t:gl(t,gr(t,e))}const bl=wt?function(e){return BigInt(1)<<BigInt(e)}:function(e){return We.fromBit(e)};var j={combine:vl,add:Tl,remove:Sl,filter:gr,invert:ml,has:El,hasAny:yl,equals:ei,deserialize:sa,getFlag:bl},Gi;(function(t){t[t.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",t[t.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",t[t.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",t[t.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",t[t.INVALID_ORIGIN=4001]="INVALID_ORIGIN",t[t.RATELIMITED=4002]="RATELIMITED",t[t.TOKEN_REVOKED=4003]="TOKEN_REVOKED",t[t.INVALID_VERSION=4004]="INVALID_VERSION",t[t.INVALID_ENCODING=4005]="INVALID_ENCODING"})(Gi||(Gi={}));var Yr;(function(t){t[t.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",t[t.INVALID_COMMAND=4002]="INVALID_COMMAND",t[t.INVALID_GUILD=4003]="INVALID_GUILD",t[t.INVALID_EVENT=4004]="INVALID_EVENT",t[t.INVALID_CHANNEL=4005]="INVALID_CHANNEL",t[t.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS",t[t.INVALID_CLIENTID=4007]="INVALID_CLIENTID",t[t.INVALID_ORIGIN=4008]="INVALID_ORIGIN",t[t.INVALID_TOKEN=4009]="INVALID_TOKEN",t[t.INVALID_USER=4010]="INVALID_USER"})(Yr||(Yr={}));var zr;(function(t){t.LANDSCAPE="landscape",t.PORTRAIT="portrait"})(zr||(zr={}));var Je;(function(t){t.MOBILE="mobile",t.DESKTOP="desktop"})(Je||(Je={}));const rc=Object.freeze({CREATE_INSTANT_INVITE:j.getFlag(0),KICK_MEMBERS:j.getFlag(1),BAN_MEMBERS:j.getFlag(2),ADMINISTRATOR:j.getFlag(3),MANAGE_CHANNELS:j.getFlag(4),MANAGE_GUILD:j.getFlag(5),ADD_REACTIONS:j.getFlag(6),VIEW_AUDIT_LOG:j.getFlag(7),PRIORITY_SPEAKER:j.getFlag(8),STREAM:j.getFlag(9),VIEW_CHANNEL:j.getFlag(10),SEND_MESSAGES:j.getFlag(11),SEND_TTS_MESSAGES:j.getFlag(12),MANAGE_MESSAGES:j.getFlag(13),EMBED_LINKS:j.getFlag(14),ATTACH_FILES:j.getFlag(15),READ_MESSAGE_HISTORY:j.getFlag(16),MENTION_EVERYONE:j.getFlag(17),USE_EXTERNAL_EMOJIS:j.getFlag(18),VIEW_GUILD_INSIGHTS:j.getFlag(19),CONNECT:j.getFlag(20),SPEAK:j.getFlag(21),MUTE_MEMBERS:j.getFlag(22),DEAFEN_MEMBERS:j.getFlag(23),MOVE_MEMBERS:j.getFlag(24),USE_VAD:j.getFlag(25),CHANGE_NICKNAME:j.getFlag(26),MANAGE_NICKNAMES:j.getFlag(27),MANAGE_ROLES:j.getFlag(28),MANAGE_WEBHOOKS:j.getFlag(29),MANAGE_GUILD_EXPRESSIONS:j.getFlag(30),USE_APPLICATION_COMMANDS:j.getFlag(31),REQUEST_TO_SPEAK:j.getFlag(32),MANAGE_EVENTS:j.getFlag(33),MANAGE_THREADS:j.getFlag(34),CREATE_PUBLIC_THREADS:j.getFlag(35),CREATE_PRIVATE_THREADS:j.getFlag(36),USE_EXTERNAL_STICKERS:j.getFlag(37),SEND_MESSAGES_IN_THREADS:j.getFlag(38),USE_EMBEDDED_ACTIVITIES:j.getFlag(39),MODERATE_MEMBERS:j.getFlag(40),VIEW_CREATOR_MONETIZATION_ANALYTICS:j.getFlag(41),USE_SOUNDBOARD:j.getFlag(42),CREATE_GUILD_EXPRESSIONS:j.getFlag(43),CREATE_EVENTS:j.getFlag(44),USE_EXTERNAL_SOUNDS:j.getFlag(45),SEND_VOICE_MESSAGES:j.getFlag(46),SEND_POLLS:j.getFlag(49),USE_EXTERNAL_APPS:j.getFlag(50)}),Vi=-1,Al=250;function we(t){return na(e=>{var n;const[r]=(n=Object.entries(t).find(([,i])=>i===e))!==null&&n!==void 0?n:[];return e!=null&&r===void 0?t.UNHANDLED:e},v().or(V()))}function la(t){const e=Jr().transform(n=>{const r=t.safeParse(n);return r.success?r.data:t._def.defaultValue()});return e.overlayType=t,e}const ua=h.object({image_url:h.string()}).describe('Response for "INITIATE_IMAGE_UPLOAD" Command'),Il=h.object({mediaUrl:h.string().max(1024)}).describe('Request for "OPEN_SHARE_MOMENT_DIALOG" Command'),Nl=h.object({access_token:h.union([h.string(),h.null()]).optional()}).describe('Request for "AUTHENTICATE" Command'),ti=h.object({access_token:h.string(),user:h.object({username:h.string(),discriminator:h.string(),id:h.string(),avatar:h.union([h.string(),h.null()]).optional(),public_flags:h.number(),global_name:h.union([h.string(),h.null()]).optional()}),scopes:h.array(la(h.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","guilds.channels.read","gdm.join","bot","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.permissions.update","applications.commands.update","applications.store.update","applications.entitlements","activities.read","activities.write","activities.invites.write","relationships.read","relationships.write","voice","dm_channels.read","role_connections.write","presences.read","presences.write","openid","dm_channels.messages.read","dm_channels.messages.write","gateway.connect","account.global_name.update","payment_sources.country_code","sdk.social_layer_presence","sdk.social_layer","lobbies.write","application_identities.write"]).or(h.literal(-1)).default(-1))),expires:h.string(),application:h.object({description:h.string(),icon:h.union([h.string(),h.null()]).optional(),id:h.string(),rpc_origins:h.array(h.string()).optional(),name:h.string()})}).describe('Response for "AUTHENTICATE" Command'),ca=h.object({participants:h.array(h.object({id:h.string(),username:h.string(),global_name:h.union([h.string(),h.null()]).optional(),discriminator:h.string(),avatar:h.union([h.string(),h.null()]).optional(),flags:h.number(),bot:h.boolean(),avatar_decoration_data:h.union([h.object({asset:h.string(),skuId:h.string().optional(),expiresAt:h.number().optional()}),h.null()]).optional(),premium_type:h.union([h.number(),h.null()]).optional(),nickname:h.string().optional()}))}).describe('Response for "GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS" Command'),wl=h.object({command:h.string(),options:h.array(h.object({name:h.string(),value:h.string()})).optional(),content:h.string().max(2e3).optional(),require_launch_channel:h.boolean().optional(),preview_image:h.object({height:h.number(),url:h.string(),width:h.number()}).optional(),components:h.array(h.object({type:h.literal(1),components:h.array(h.object({type:h.literal(2),style:h.number().gte(1).lte(5),label:h.string().max(80).optional(),custom_id:h.string().max(100).describe("Developer-defined identifier for the button; max 100 characters").optional()})).max(5).optional()})).optional(),pid:h.number().optional()}).describe('Request for "SHARE_INTERACTION" Command'),Rl=h.object({success:h.boolean()}).describe('Response for "SHARE_INTERACTION" Command'),Ol=h.object({custom_id:h.string().max(64).optional(),message:h.string().max(1e3),link_id:h.string().max(64).optional()}).describe('Request for "SHARE_LINK" Command'),Dl=h.object({success:h.boolean(),didCopyLink:h.boolean(),didSendMessage:h.boolean()}).describe('Response for "SHARE_LINK" Command'),da=h.object({relationships:h.array(h.object({type:h.number(),user:h.object({id:h.string(),username:h.string(),global_name:h.union([h.string(),h.null()]).optional(),discriminator:h.string(),avatar:h.union([h.string(),h.null()]).optional(),flags:h.number(),bot:h.boolean(),avatar_decoration_data:h.union([h.object({asset:h.string(),skuId:h.string().optional(),expiresAt:h.number().optional()}),h.null()]).optional(),premium_type:h.union([h.number(),h.null()]).optional()}),presence:h.object({status:h.string(),activity:h.union([h.object({session_id:h.string().optional(),type:h.number().optional(),name:h.string(),url:h.union([h.string(),h.null()]).optional(),application_id:h.string().optional(),status_display_type:h.number().optional(),state:h.string().optional(),state_url:h.string().optional(),details:h.string().optional(),details_url:h.string().optional(),emoji:h.union([h.object({name:h.string(),id:h.union([h.string(),h.null()]).optional(),animated:h.union([h.boolean(),h.null()]).optional()}),h.null()]).optional(),assets:h.object({large_image:h.string().optional(),large_text:h.string().optional(),large_url:h.string().optional(),small_image:h.string().optional(),small_text:h.string().optional(),small_url:h.string().optional()}).optional(),timestamps:h.object({start:h.number().optional(),end:h.number().optional()}).optional(),party:h.object({id:h.string().optional(),size:h.array(h.number()).min(2).max(2).optional(),privacy:h.number().optional()}).optional(),secrets:h.object({match:h.string().optional(),join:h.string().optional()}).optional(),sync_id:h.string().optional(),created_at:h.number().optional(),instance:h.boolean().optional(),flags:h.number().optional(),metadata:h.object({}).optional(),platform:h.string().optional(),supported_platforms:h.array(h.string()).optional(),buttons:h.array(h.string()).optional(),hangStatus:h.string().optional()}),h.null()]).optional()}).optional()}))}).describe('Response for "GET_RELATIONSHIPS" Command'),Ll=h.object({user_id:h.string(),content:h.string().min(0).max(1024).optional()}).describe('Request for "INVITE_USER_EMBEDDED" Command'),xl=h.object({id:h.string().max(64)}).describe('Request for "GET_USER" Command'),Ml=h.union([h.object({id:h.string(),username:h.string(),global_name:h.union([h.string(),h.null()]).optional(),discriminator:h.string(),avatar:h.union([h.string(),h.null()]).optional(),flags:h.number(),bot:h.boolean(),avatar_decoration_data:h.union([h.object({asset:h.string(),skuId:h.string().optional(),expiresAt:h.number().optional()}),h.null()]).optional(),premium_type:h.union([h.number(),h.null()]).optional()}),h.null()]),Ul=h.object({quest_id:h.string()}).describe('Request for "GET_QUEST_ENROLLMENT_STATUS" Command'),Pl=h.object({quest_id:h.string(),is_enrolled:h.boolean(),enrolled_at:h.union([h.string(),h.null()]).optional()}).describe('Response for "GET_QUEST_ENROLLMENT_STATUS" Command'),kl=h.object({quest_id:h.string()}).describe('Request for "QUEST_START_TIMER" Command'),Bl=h.object({success:h.boolean()}).describe('Response for "QUEST_START_TIMER" Command');var ce;(function(t){t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.AUTHENTICATE="AUTHENTICATE",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS",t.SHARE_INTERACTION="SHARE_INTERACTION",t.SHARE_LINK="SHARE_LINK",t.GET_RELATIONSHIPS="GET_RELATIONSHIPS",t.INVITE_USER_EMBEDDED="INVITE_USER_EMBEDDED",t.GET_USER="GET_USER",t.GET_QUEST_ENROLLMENT_STATUS="GET_QUEST_ENROLLMENT_STATUS",t.QUEST_START_TIMER="QUEST_START_TIMER"})(ce||(ce={}));const Hi=h.object({}).optional().nullable(),Vr=h.void(),pa={[ce.INITIATE_IMAGE_UPLOAD]:{request:Vr,response:ua},[ce.OPEN_SHARE_MOMENT_DIALOG]:{request:Il,response:Hi},[ce.AUTHENTICATE]:{request:Nl,response:ti},[ce.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:Vr,response:ca},[ce.SHARE_INTERACTION]:{request:wl,response:Rl},[ce.SHARE_LINK]:{request:Ol,response:Dl},[ce.GET_RELATIONSHIPS]:{request:Vr,response:da},[ce.INVITE_USER_EMBEDDED]:{request:Ll,response:Hi},[ce.GET_USER]:{request:xl,response:Ml},[ce.GET_QUEST_ENROLLMENT_STATUS]:{request:Ul,response:Pl},[ce.QUEST_START_TIMER]:{request:kl,response:Bl}},fa="DISPATCH";var k;(function(t){t.AUTHORIZE="AUTHORIZE",t.GET_GUILDS="GET_GUILDS",t.GET_GUILD="GET_GUILD",t.GET_CHANNEL="GET_CHANNEL",t.GET_CHANNELS="GET_CHANNELS",t.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",t.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",t.SUBSCRIBE="SUBSCRIBE",t.UNSUBSCRIBE="UNSUBSCRIBE",t.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",t.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",t.SET_ACTIVITY="SET_ACTIVITY",t.GET_SKUS="GET_SKUS",t.GET_ENTITLEMENTS="GET_ENTITLEMENTS",t.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",t.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",t.START_PURCHASE="START_PURCHASE",t.SET_CONFIG="SET_CONFIG",t.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",t.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",t.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",t.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",t.CAPTURE_LOG="CAPTURE_LOG",t.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",t.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",t.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",t.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",t.AUTHENTICATE="AUTHENTICATE",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS",t.GET_QUEST_ENROLLMENT_STATUS="GET_QUEST_ENROLLMENT_STATUS",t.GET_RELATIONSHIPS="GET_RELATIONSHIPS",t.GET_USER="GET_USER",t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.INVITE_USER_EMBEDDED="INVITE_USER_EMBEDDED",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.QUEST_START_TIMER="QUEST_START_TIMER",t.SHARE_INTERACTION="SHARE_INTERACTION",t.SHARE_LINK="SHARE_LINK"})(k||(k={}));const Zt=D({cmd:v(),data:On(),evt:_r(),nonce:v()}).passthrough(),ha=Object.assign(Object.assign({},ti.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1}),Gl=we(ha),_a=da.shape.relationships.element,mt=D({id:v(),username:v(),discriminator:v(),global_name:v().optional().nullable(),avatar:v().optional().nullable(),avatar_decoration_data:D({asset:v(),sku_id:v().optional()}).nullable(),bot:K(),flags:V().optional().nullable(),premium_type:V().optional().nullable()}),mr=D({user:mt,nick:v().optional().nullable(),roles:te(v()),joined_at:v(),deaf:K(),mute:K()}),ga=D({user_id:v(),nick:v().optional().nullable(),guild_id:v(),avatar:v().optional().nullable(),avatar_decoration_data:D({asset:v(),sku_id:v().optional().nullable()}).optional().nullable(),color_string:v().optional().nullable()}),vr=D({id:v(),name:v().optional().nullable(),roles:te(v()).optional().nullable(),user:mt.optional().nullable(),require_colons:K().optional().nullable(),managed:K().optional().nullable(),animated:K().optional().nullable(),available:K().optional().nullable()}),ni=D({mute:K(),deaf:K(),self_mute:K(),self_deaf:K(),suppress:K()}),ri=D({mute:K(),nick:v(),user:mt,voice_state:ni,volume:V()}),ma={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},pn=we(ma),Ct=D({name:v(),type:V(),url:v().optional().nullable(),created_at:V().optional().nullable(),timestamps:D({start:V(),end:V()}).partial().optional().nullable(),application_id:v().optional().nullable(),details:v().optional().nullable(),details_url:v().url().optional().nullable(),state:v().optional().nullable(),state_url:v().url().optional().nullable(),emoji:vr.optional().nullable(),party:D({id:v().optional().nullable(),size:te(V()).optional().nullable()}).optional().nullable(),assets:D({large_image:v().nullable(),large_text:v().nullable(),large_url:v().url().optional().nullable(),small_image:v().nullable(),small_text:v().nullable(),small_url:v().url().optional().nullable()}).partial().optional().nullable(),secrets:D({join:v(),match:v()}).partial().optional().nullable(),instance:K().optional().nullable(),flags:V().optional().nullable()}),va={UNHANDLED:-1,ROLE:0,MEMBER:1},Ea=D({id:v(),type:we(va),allow:v(),deny:v()}),Er={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},ii=D({id:v(),type:we(Er),guild_id:v().optional().nullable(),position:V().optional().nullable(),permission_overwrites:te(Ea).optional().nullable(),name:v().optional().nullable(),topic:v().optional().nullable(),nsfw:K().optional().nullable(),last_message_id:v().optional().nullable(),bitrate:V().optional().nullable(),user_limit:V().optional().nullable(),rate_limit_per_user:V().optional().nullable(),recipients:te(mt).optional().nullable(),icon:v().optional().nullable(),owner_id:v().optional().nullable(),application_id:v().optional().nullable(),parent_id:v().optional().nullable(),last_pin_timestamp:v().optional().nullable()}),ya=D({user:mt,guild_id:v(),status:pn,activities:te(Ct),client_status:D({desktop:pn,mobile:pn,web:pn}).partial()}),Ta=D({id:v(),name:v(),color:V(),hoist:K(),position:V(),permissions:v(),managed:K(),mentionable:K()}),Vl=D({id:v(),name:v(),owner_id:v(),icon:v().nullable(),icon_hash:v().optional().nullable(),splash:v().nullable(),discovery_splash:v().nullable(),owner:K().optional().nullable(),permissions:v().optional().nullable(),region:v(),afk_channel_id:v().nullable(),afk_timeout:V(),widget_enabled:K().optional().nullable(),widget_channel_id:v().optional().nullable(),verification_level:V(),default_message_notifications:V(),explicit_content_filter:V(),roles:te(Ta),emojis:te(vr),features:te(v()),mfa_level:V(),application_id:v().nullable(),system_channel_id:v().nullable(),system_channel_flags:V(),rules_channel_id:v().nullable(),joined_at:v().optional().nullable(),large:K().optional().nullable(),unavailable:K().optional().nullable(),member_count:V().optional().nullable(),voice_states:te(ni).optional().nullable(),members:te(mr).optional().nullable(),channels:te(ii).optional().nullable(),presences:te(ya).optional().nullable(),max_presences:V().optional().nullable(),max_members:V().optional().nullable(),vanity_url_code:v().nullable(),description:v().nullable(),banner:v().nullable(),premium_tier:V(),premium_subscription_count:V().optional().nullable(),preferred_locale:v(),public_updates_channel_id:v().nullable(),max_video_channel_users:V().optional().nullable(),approximate_member_count:V().optional().nullable(),approximate_presence_count:V().optional().nullable()}),Sa=D({id:v(),guild_id:v(),type:V(),name:v()}),ba=D({id:v(),filename:v(),size:V(),url:v(),proxy_url:v(),height:V().optional().nullable(),width:V().optional().nullable()}),Aa=D({text:v(),icon_url:v().optional().nullable(),proxy_icon_url:v().optional().nullable()}),pr=D({url:v().optional().nullable(),proxy_url:v().optional().nullable(),height:V().optional().nullable(),width:V().optional().nullable()}),Ia=pr.omit({proxy_url:!0}),Na=D({name:v().optional().nullable(),url:v().optional().nullable()}),wa=D({name:v().optional().nullable(),url:v().optional().nullable(),icon_url:v().optional().nullable(),proxy_icon_url:v().optional().nullable()}),Ra=D({name:v(),value:v(),inline:K()}),Oa=D({title:v().optional().nullable(),type:v().optional().nullable(),description:v().optional().nullable(),url:v().optional().nullable(),timestamp:v().optional().nullable(),color:V().optional().nullable(),footer:Aa.optional().nullable(),image:pr.optional().nullable(),thumbnail:pr.optional().nullable(),video:Ia.optional().nullable(),provider:Na.optional().nullable(),author:wa.optional().nullable(),fields:te(Ra).optional().nullable()}),Da=D({count:V(),me:K(),emoji:vr}),La=D({type:V(),party_id:v().optional().nullable()}),xa=D({id:v(),cover_image:v().optional().nullable(),description:v(),icon:v().optional().nullable(),name:v()}),Ma=D({message_id:v().optional().nullable(),channel_id:v().optional().nullable(),guild_id:v().optional().nullable()}),Ua=D({id:v(),channel_id:v(),guild_id:v().optional().nullable(),author:mt.optional().nullable(),member:mr.optional().nullable(),content:v(),timestamp:v(),edited_timestamp:v().optional().nullable(),tts:K(),mention_everyone:K(),mentions:te(mt),mention_roles:te(v()),mention_channels:te(Sa),attachments:te(ba),embeds:te(Oa),reactions:te(Da).optional().nullable(),nonce:Qr([v(),V()]).optional().nullable(),pinned:K(),webhook_id:v().optional().nullable(),type:V(),activity:La.optional().nullable(),application:xa.optional().nullable(),message_reference:Ma.optional().nullable(),flags:V().optional().nullable(),stickers:te(On()).optional().nullable(),referenced_message:On().optional().nullable()}),Pa=D({id:v(),name:v()}),ka={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},ai=D({type:we(ka),code:V(),name:v()}),Ba={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},Ga=D({type:we(Ba),auto_threshold:K(),threshold:V(),shortcut:te(ai),delay:V()}),Cr=D({device_id:v(),volume:V(),available_devices:te(Pa)}),Va={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"},Hl=D({type:we(Va),id:v(),vendor:D({name:v(),url:v()}),model:D({name:v(),url:v()}),related:te(v()),echo_cancellation:K().optional().nullable(),noise_suppression:K().optional().nullable(),automatic_gain_control:K().optional().nullable(),hardware_mute:K().optional().nullable()}),Ha={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},Za=D({id:v(),name:v(),type:we(Ha),price:D({amount:V(),currency:v()}),application_id:v(),flags:V(),release_date:v().nullable()}),ja={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},yr=D({id:v(),sku_id:v(),application_id:v(),user_id:v(),gift_code_flags:V(),type:we(ja),gifter_user_id:v().optional().nullable(),branches:te(v()).optional().nullable(),starts_at:v().optional().nullable(),ends_at:v().optional().nullable(),parent_id:v().optional().nullable(),consumed:K().optional().nullable(),deleted:K().optional().nullable(),gift_code_batch_id:v().optional().nullable()}),qa={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3},Zl=we(qa),Fa={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},Ka=we(Fa),si={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1},jl=we(si),oi={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2},ql=we(oi),Fl=Object.freeze(Object.defineProperty({__proto__:null,Activity:Ct,Attachment:ba,CertifiedDevice:Hl,CertifiedDeviceTypeObject:Va,Channel:ii,ChannelMention:Sa,ChannelTypesObject:Er,get Commands(){return k},DISPATCH:fa,Embed:Oa,EmbedAuthor:wa,EmbedField:Ra,EmbedFooter:Aa,EmbedProvider:Na,Emoji:vr,Entitlement:yr,EntitlementTypesObject:ja,Guild:Vl,GuildMember:mr,GuildMemberRPC:ga,Image:pr,KeyTypesObject:ka,LayoutMode:ql,LayoutModeTypeObject:oi,Message:Ua,MessageActivity:La,MessageApplication:xa,MessageReference:Ma,Orientation:jl,OrientationLockState:Zl,OrientationLockStateTypeObject:qa,OrientationTypeObject:si,PermissionOverwrite:Ea,PermissionOverwriteTypeObject:va,PresenceUpdate:ya,Reaction:Da,ReceiveFramePayload:Zt,Relationship:_a,Role:Ta,Scopes:Gl,ScopesObject:ha,ShortcutKey:ai,Sku:Za,SkuTypeObject:Ha,Status:pn,StatusObject:ma,ThermalState:Ka,ThermalStateTypeObject:Fa,User:mt,UserVoiceState:ri,Video:Ia,VoiceDevice:Pa,VoiceSettingModeTypeObject:Ba,VoiceSettingsIO:Cr,VoiceSettingsMode:Ga,VoiceState:ni},Symbol.toStringTag,{value:"Module"})),li="ERROR";var ee;(function(t){t.READY="READY",t.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",t.SPEAKING_START="SPEAKING_START",t.SPEAKING_STOP="SPEAKING_STOP",t.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",t.ORIENTATION_UPDATE="ORIENTATION_UPDATE",t.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",t.CURRENT_GUILD_MEMBER_UPDATE="CURRENT_GUILD_MEMBER_UPDATE",t.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",t.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",t.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE",t.RELATIONSHIP_UPDATE="RELATIONSHIP_UPDATE",t.ACTIVITY_JOIN="ACTIVITY_JOIN",t.QUEST_ENROLLMENT_STATUS_UPDATE="QUEST_ENROLLMENT_STATUS_UPDATE"})(ee||(ee={}));const Ie=Zt.extend({evt:Qt(ee),nonce:v().nullable(),cmd:he(fa),data:D({}).passthrough()}),$a=Zt.extend({evt:he(li),data:D({code:V(),message:v().optional()}).passthrough(),cmd:Qt(k),nonce:v().nullable()}),Kl=Ie.extend({evt:v()}),$l=Qr([Ie,Kl,$a]);function Yl(t){const e=t.evt;if(!(e in ee))throw new Error(`Unrecognized event type ${t.evt}`);return zl[e].payload.parse(t)}const zl={[ee.READY]:{payload:Ie.extend({evt:he(ee.READY),data:D({v:V(),config:D({cdn_host:v().optional(),api_endpoint:v(),environment:v()}),user:D({id:v(),username:v(),discriminator:v(),avatar:v().optional()}).optional()})})},[ee.VOICE_STATE_UPDATE]:{payload:Ie.extend({evt:he(ee.VOICE_STATE_UPDATE),data:ri}),subscribeArgs:D({channel_id:v()})},[ee.SPEAKING_START]:{payload:Ie.extend({evt:he(ee.SPEAKING_START),data:D({lobby_id:v().optional(),channel_id:v().optional(),user_id:v()})}),subscribeArgs:D({lobby_id:v().nullable().optional(),channel_id:v().nullable().optional()})},[ee.SPEAKING_STOP]:{payload:Ie.extend({evt:he(ee.SPEAKING_STOP),data:D({lobby_id:v().optional(),channel_id:v().optional(),user_id:v()})}),subscribeArgs:D({lobby_id:v().nullable().optional(),channel_id:v().nullable().optional()})},[ee.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:Ie.extend({evt:he(ee.ACTIVITY_LAYOUT_MODE_UPDATE),data:D({layout_mode:we(oi)})})},[ee.ORIENTATION_UPDATE]:{payload:Ie.extend({evt:he(ee.ORIENTATION_UPDATE),data:D({screen_orientation:we(si),orientation:Qt(zr)})})},[ee.CURRENT_USER_UPDATE]:{payload:Ie.extend({evt:he(ee.CURRENT_USER_UPDATE),data:mt})},[ee.CURRENT_GUILD_MEMBER_UPDATE]:{payload:Ie.extend({evt:he(ee.CURRENT_GUILD_MEMBER_UPDATE),data:ga}),subscribeArgs:D({guild_id:v()})},[ee.ENTITLEMENT_CREATE]:{payload:Ie.extend({evt:he(ee.ENTITLEMENT_CREATE),data:D({entitlement:yr})})},[ee.THERMAL_STATE_UPDATE]:{payload:Ie.extend({evt:he(ee.THERMAL_STATE_UPDATE),data:D({thermal_state:Ka})})},[ee.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:Ie.extend({evt:he(ee.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:D({participants:ca.shape.participants})})},[ee.RELATIONSHIP_UPDATE]:{payload:Ie.extend({evt:he(ee.RELATIONSHIP_UPDATE),data:_a})},[ee.ACTIVITY_JOIN]:{payload:Ie.extend({evt:he(ee.ACTIVITY_JOIN),data:D({applicationId:v(),secret:v()})})},[ee.QUEST_ENROLLMENT_STATUS_UPDATE]:{payload:Ie.extend({evt:he(ee.QUEST_ENROLLMENT_STATUS_UPDATE),data:D({quest_id:v(),is_enrolled:K(),enrolled_at:v().date()})})}};function Cl(t,e){throw e}const xn=D({}).nullable(),ui=D({code:v()}),Ya=D({guilds:te(D({id:v(),name:v()}))}),za=D({id:v(),name:v(),icon_url:v().optional(),members:te(mr)}),Vt=D({id:v(),type:we(Er),guild_id:v().optional().nullable(),name:v().optional().nullable(),topic:v().optional().nullable(),bitrate:V().optional().nullable(),user_limit:V().optional().nullable(),position:V().optional().nullable(),voice_states:te(ri),messages:te(Ua)}),Ca=D({channels:te(ii)}),Xl=Vt.nullable(),Xa=Vt.nullable(),Wa=Vt.nullable(),Wl=D({input:Cr,output:Cr,mode:Ga,automatic_gain_control:K(),echo_cancellation:K(),noise_suppression:K(),qos:K(),silence_warning:K(),deaf:K(),mute:K()}),Ja=D({evt:v()}),Qa=D({shortcut:ai}),ci=Ct,di=D({skus:te(Za)}),pi=D({entitlements:te(yr)}),fi=te(yr).nullable(),hi=D({use_interactive_pip:K()}),_i=D({locale:v()}),gi=D({enabled:K()}),mi=D({permissions:ea().or(v())}),vi=la(D({opened:K().or(_r())}).default({opened:null})),Ei=D({iosKeyboardResizesView:ta(K())}),es=Zt.extend({cmd:Qt(k),evt:_r()});function Jl({cmd:t,data:e}){switch(t){case k.AUTHORIZE:return ui.parse(e);case k.CAPTURE_SHORTCUT:return Qa.parse(e);case k.ENCOURAGE_HW_ACCELERATION:return gi.parse(e);case k.GET_CHANNEL:return Vt.parse(e);case k.GET_CHANNELS:return Ca.parse(e);case k.GET_CHANNEL_PERMISSIONS:return mi.parse(e);case k.GET_GUILD:return za.parse(e);case k.GET_GUILDS:return Ya.parse(e);case k.GET_PLATFORM_BEHAVIORS:return Ei.parse(e);case k.GET_CHANNEL:return Vt.parse(e);case k.SELECT_TEXT_CHANNEL:return Wa.parse(e);case k.SELECT_VOICE_CHANNEL:return Xa.parse(e);case k.SET_ACTIVITY:return ci.parse(e);case k.GET_SKUS_EMBEDDED:return di.parse(e);case k.GET_ENTITLEMENTS_EMBEDDED:return pi.parse(e);case k.SET_CONFIG:return hi.parse(e);case k.START_PURCHASE:return fi.parse(e);case k.SUBSCRIBE:case k.UNSUBSCRIBE:return Ja.parse(e);case k.USER_SETTINGS_GET_LOCALE:return _i.parse(e);case k.OPEN_EXTERNAL_LINK:return vi.parse(e);case k.SET_ORIENTATION_LOCK_STATE:case k.SET_CERTIFIED_DEVICES:case k.SEND_ANALYTICS_EVENT:case k.OPEN_INVITE_DIALOG:case k.CAPTURE_LOG:case k.GET_SKUS:case k.GET_ENTITLEMENTS:return xn.parse(e);case k.AUTHENTICATE:case k.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:case k.GET_QUEST_ENROLLMENT_STATUS:case k.GET_RELATIONSHIPS:case k.GET_USER:case k.INITIATE_IMAGE_UPLOAD:case k.INVITE_USER_EMBEDDED:case k.OPEN_SHARE_MOMENT_DIALOG:case k.QUEST_START_TIMER:case k.SHARE_INTERACTION:case k.SHARE_LINK:const{response:n}=pa[t];return n.parse(e);default:Cl(t,new Error(`Unrecognized command ${t}`))}}function ts(t){return Object.assign(Object.assign({},t),{data:Jl(t)})}const ic=Object.freeze(Object.defineProperty({__proto__:null,AuthenticateResponse:ti,AuthorizeResponse:ui,CaptureShortcutResponse:Qa,EmptyResponse:xn,EncourageHardwareAccelerationResponse:gi,GetChannelPermissionsResponse:mi,GetChannelResponse:Vt,GetChannelsResponse:Ca,GetEntitlementsResponse:pi,GetGuildResponse:za,GetGuildsResponse:Ya,GetPlatformBehaviorsResponse:Ei,GetSkusResponse:di,InitiateImageUploadResponse:ua,NullableChannelResponse:Xl,OpenExternalLinkResponse:vi,ResponseFrame:es,SelectTextChannelResponse:Wa,SelectVoiceChannelResponse:Xa,SetActivityResponse:ci,SetConfigResponse:hi,StartPurchaseResponse:fi,SubscribeResponse:Ja,UserSettingsGetLocaleResponse:_i,VoiceSettingsResponse:Wl,parseResponsePayload:ts},Symbol.toStringTag,{value:"Module"}));D({frame_id:v(),platform:Qt(Je).optional().nullable()});D({v:he(1),encoding:he("json").optional(),client_id:v(),frame_id:v()});const Ql=D({code:V(),message:v().optional()}),eu=D({evt:v().nullable(),nonce:v().nullable(),data:On().nullable(),cmd:v()}).passthrough();function tu(t){const e=eu.parse(t);return e.evt!=null?e.evt===li?$a.parse(e):Yl($l.parse(e)):ts(es.passthrough().parse(e))}function Pe(t,e,n,r=()=>{}){const i=Zt.extend({cmd:he(e),data:n});return async a=>{const c=await t({cmd:e,args:a,transfer:r(a)});return i.parse(c).data}}function Xe(t,e=()=>{}){const n=pa[t].response,r=Zt.extend({cmd:he(t),data:n});return i=>async a=>{const c=await i({cmd:t,args:a,transfer:e(a)});return r.parse(c).data}}const nu=t=>Pe(t,k.AUTHORIZE,ui),ru=t=>Pe(t,k.CAPTURE_LOG,xn),iu=t=>Pe(t,k.ENCOURAGE_HW_ACCELERATION,gi),au=t=>Pe(t,k.GET_CHANNEL,Vt),su=t=>Pe(t,k.GET_ENTITLEMENTS_EMBEDDED,pi),ou=t=>Pe(t,k.GET_SKUS_EMBEDDED,di),lu=t=>Pe(t,k.GET_CHANNEL_PERMISSIONS,mi),uu=t=>Pe(t,k.GET_PLATFORM_BEHAVIORS,Ei),cu=t=>Pe(t,k.OPEN_EXTERNAL_LINK,vi),du=t=>Pe(t,k.OPEN_INVITE_DIALOG,xn);Ct.pick({state:!0,state_url:!0,details:!0,details_url:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,instance:!0,type:!0}).extend({type:Ct.shape.type.optional(),instance:Ct.shape.instance.optional()}).nullable();const pu=t=>Pe(t,k.SET_ACTIVITY,ci),fu=t=>Pe(t,k.SET_CONFIG,hi);function hu({sendCommand:t,cmd:e,response:n,fallbackTransform:r,transferTransform:i=()=>{}}){const a=Zt.extend({cmd:he(e),data:n});return async c=>{try{const u=await t({cmd:e,args:c,transfer:i(c)});return a.parse(u).data}catch(u){if(u.code===Yr.INVALID_PAYLOAD){const _=r(c),p=await t({cmd:e,args:_,transfer:i(_)});return a.parse(p).data}else throw u}}}const _u=t=>({lock_state:t.lock_state,picture_in_picture_lock_state:t.picture_in_picture_lock_state}),gu=t=>hu({sendCommand:t,cmd:k.SET_ORIENTATION_LOCK_STATE,response:xn,fallbackTransform:_u}),mu=t=>Pe(t,k.START_PURCHASE,fi),vu=t=>Pe(t,k.USER_SETTINGS_GET_LOCALE,_i),Eu=Xe(ce.AUTHENTICATE),Zi=Xe(ce.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS),yu=Xe(ce.GET_QUEST_ENROLLMENT_STATUS),Tu=Xe(ce.GET_RELATIONSHIPS),Su=Xe(ce.GET_USER),bu=Xe(ce.INITIATE_IMAGE_UPLOAD),Au=Xe(ce.INVITE_USER_EMBEDDED),Iu=Xe(ce.OPEN_SHARE_MOMENT_DIALOG),Nu=Xe(ce.QUEST_START_TIMER),wu=Xe(ce.SHARE_INTERACTION),Ru=Xe(ce.SHARE_LINK);function Ou(t){return{authorize:nu(t),captureLog:ru(t),encourageHardwareAcceleration:iu(t),getChannel:au(t),getChannelPermissions:lu(t),getEntitlements:su(t),getPlatformBehaviors:uu(t),getSkus:ou(t),openExternalLink:cu(t),openInviteDialog:du(t),setActivity:pu(t),setConfig:fu(t),setOrientationLockState:gu(t),startPurchase:mu(t),userSettingsGetLocale:vu(t),getInstanceConnectedParticipants:Zi(t),authenticate:Eu(t),getActivityInstanceConnectedParticipants:Zi(t),getQuestEnrollmentStatus:yu(t),getRelationships:Tu(t),getUser:Su(t),initiateImageUpload:bu(t),inviteUserEmbedded:Au(t),openShareMomentDialog:Iu(t),questStartTimer:Nu(t),shareInteraction:wu(t),shareLink:Ru(t)}}class Du extends Error{constructor(e,n=""){super(n),this.code=e,this.message=n,this.name="Discord SDK Error"}}function ns(){return{disableConsoleLogOverride:!1}}const Lu=["log","warn","debug","info","error"];function xu(t,e,n){const r=t[e],i=t;r&&(t[e]=function(){const a=[].slice.call(arguments),c=""+a.join(" ");n(e,c),r.apply(i,a)})}var Mu="2.4.0";const Uu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var ji={randomUUID:Uu};let Hr;const Pu=new Uint8Array(16);function ku(){if(!Hr){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Hr=crypto.getRandomValues.bind(crypto)}return Hr(Pu)}const ye=[];for(let t=0;t<256;++t)ye.push((t+256).toString(16).slice(1));function Bu(t,e=0){return(ye[t[e+0]]+ye[t[e+1]]+ye[t[e+2]]+ye[t[e+3]]+"-"+ye[t[e+4]]+ye[t[e+5]]+"-"+ye[t[e+6]]+ye[t[e+7]]+"-"+ye[t[e+8]]+ye[t[e+9]]+"-"+ye[t[e+10]]+ye[t[e+11]]+ye[t[e+12]]+ye[t[e+13]]+ye[t[e+14]]+ye[t[e+15]]).toLowerCase()}function qi(t,e,n){var i;if(ji.randomUUID&&!e&&!t)return ji.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??ku();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Bu(r)}var ht;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.FRAME=1]="FRAME",t[t.CLOSE=2]="CLOSE",t[t.HELLO=3]="HELLO"})(ht||(ht={}));const Gu=new Set(Vu());function Vu(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function Hu(){var t;return[(t=window.parent.opener)!==null&&t!==void 0?t:window.parent,document.referrer?document.referrer:"*"]}class ac{getTransfer(e){var n;switch(e.cmd){case k.SUBSCRIBE:case k.UNSUBSCRIBE:return;default:return(n=e.transfer)!==null&&n!==void 0?n:void 0}}constructor(e,n){if(this.sdkVersion=Mu,this.mobileAppVersion=null,this.source=null,this.sourceOrigin="",this.eventBus=new Yi,this.pendingCommands=new Map,this.sendCommand=u=>{var _;if(this.source==null)throw new Error("Attempting to send message before initialization");const p=qi();return(_=this.source)===null||_===void 0||_.postMessage([ht.FRAME,Object.assign(Object.assign({},u),{nonce:p})],this.sourceOrigin,this.getTransfer(u)),new Promise((m,A)=>{this.pendingCommands.set(p,{resolve:m,reject:A})})},this.commands=Ou(this.sendCommand),this.handleMessage=u=>{if(!Gu.has(u.origin))return;const _=u.data;if(!Array.isArray(_))return;const[p,d]=_;switch(p){case ht.HELLO:return;case ht.CLOSE:return this.handleClose(d);case ht.HANDSHAKE:return this.handleHandshake();case ht.FRAME:return this.handleFrame(d);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=e,this.configuration=n??ns(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.customId=null,this.referrerId=null,this.platform=Je.DESKTOP,this.guildId=null,this.channelId=null,this.locationId=null;return}const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const a=r.get("instance_id");if(!a)throw new Error("instance_id query param is not defined");this.instanceId=a;const c=r.get("platform");if(c){if(c!==Je.DESKTOP&&c!==Je.MOBILE)throw new Error(`Invalid query param "platform" of "${c}". Valid values are "${Je.DESKTOP}" or "${Je.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=c,this.customId=r.get("custom_id"),this.referrerId=r.get("referrer_id"),this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),this.locationId=r.get("location_id"),this.mobileAppVersion=r.get("mobile_app_version"),[this.source,this.sourceOrigin]=Hu(),this.addOnReadyListener(),this.handshake()}close(e,n){var r;window.removeEventListener("message",this.handleMessage);const i=qi();(r=this.source)===null||r===void 0||r.postMessage([ht.CLOSE,{code:e,message:n,nonce:i}],this.sourceOrigin)}async subscribe(e,n,...r){const[i]=r,a=this.eventBus.listenerCount(e),c=this.eventBus.on(e,n);return Object.values(ee).includes(e)&&e!==ee.READY&&a===0&&await this.sendCommand({cmd:k.SUBSCRIBE,args:i,evt:e}),c}async unsubscribe(e,n,...r){const[i]=r;return e!==ee.READY&&this.eventBus.listenerCount(e)===1&&await this.sendCommand({cmd:k.UNSUBSCRIBE,evt:e,args:i}),this.eventBus.off(e,n)}async ready(){this.isReady||await new Promise(e=>{this.eventBus.once(ee.READY,e)})}parseMajorMobileVersion(){if(this.mobileAppVersion&&this.mobileAppVersion.includes("."))try{return parseInt(this.mobileAppVersion.split(".")[0])}catch{return Vi}return Vi}handshake(){var e;const n={v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId},r=this.parseMajorMobileVersion();(this.platform===Je.DESKTOP||r>=Al)&&(n.sdk_version=this.sdkVersion),(e=this.source)===null||e===void 0||e.postMessage([ht.HANDSHAKE,n],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(ee.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const e=(n,r)=>{this.commands.captureLog({level:n,message:r})};Lu.forEach(n=>{xu(console,n,e)})}handleClose(e){Ql.parse(e)}handleHandshake(){}handleFrame(e){var n,r;let i;try{i=tu(e)}catch(a){console.error("Failed to parse",e),console.error(a);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===li){if(i.nonce!=null){(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new Du(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",e);return}(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}}function Zu(t,e){return j.has(j.deserialize(e),t)}var sc={can:Zu},en=1e9,ju={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ti,de=!0,qe="[DecimalError] ",kt=qe+"Invalid argument: ",yi=qe+"Exponent out of range: ",tn=Math.floor,Mt=Math.pow,qu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Be,Ee=1e7,ue=7,rs=9007199254740991,fr=tn(rs/ue),P={};P.absoluteValue=P.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};P.comparedTo=P.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};P.decimalPlaces=P.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ue;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(t){return _t(this,new this.constructor(t))};P.dividedToIntegerBy=P.idiv=function(t){var e=this,n=e.constructor;return le(_t(e,new n(t),0,1),n.precision)};P.equals=P.eq=function(t){return!this.cmp(t)};P.exponent=function(){return ve(this)};P.greaterThan=P.gt=function(t){return this.cmp(t)>0};P.greaterThanOrEqualTo=P.gte=function(t){return this.cmp(t)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(t){return this.cmp(t)<0};P.lessThanOrEqualTo=P.lte=function(t){return this.cmp(t)<1};P.logarithm=P.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Be))throw Error(qe+"NaN");if(n.s<1)throw Error(qe+(n.s?"NaN":"-Infinity"));return n.eq(Be)?new r(0):(de=!1,e=_t(Dn(n,a),Dn(t,a),a),de=!0,le(e,i))};P.minus=P.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ss(e,t):is(e,(t.s=-t.s,t))};P.modulo=P.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(qe+"NaN");return n.s?(de=!1,e=_t(n,t,0,1).times(t),de=!0,n.minus(e)):le(new r(n),i)};P.naturalExponential=P.exp=function(){return as(this)};P.naturalLogarithm=P.ln=function(){return Dn(this)};P.negated=P.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};P.plus=P.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?is(e,t):ss(e,(t.s=-t.s,t))};P.precision=P.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kt+t);if(e=ve(i)+1,r=i.d.length-1,n=r*ue+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};P.squareRoot=P.sqrt=function(){var t,e,n,r,i,a,c,u=this,_=u.constructor;if(u.s<1){if(!u.s)return new _(0);throw Error(qe+"NaN")}for(t=ve(u),de=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Qe(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tn((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new _(e)):r=new _(i.toString()),n=_.precision,i=c=n+3;;)if(a=r,r=a.plus(_t(u,a,c+2)).times(.5),Qe(a.d).slice(0,c)===(e=Qe(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),i==c&&e=="4999"){if(le(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;c+=4}return de=!0,le(r,n)};P.times=P.mul=function(t){var e,n,r,i,a,c,u,_,p,d=this,m=d.constructor,A=d.d,x=(t=new m(t)).d;if(!d.s||!t.s)return new m(0);for(t.s*=d.s,n=d.e+t.e,_=A.length,p=x.length,_<p&&(a=A,A=x,x=a,c=_,_=p,p=c),a=[],c=_+p,r=c;r--;)a.push(0);for(r=p;--r>=0;){for(e=0,i=_+r;i>r;)u=a[i]+x[r]*A[i-r-1]+e,a[i--]=u%Ee|0,e=u/Ee|0;a[i]=(a[i]+e)%Ee|0}for(;!a[--c];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,de?le(t,m.precision):t};P.toDecimalPlaces=P.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(rt(t,0,en),e===void 0?e=r.rounding:rt(e,0,8),le(n,t+ve(n)+1,e))};P.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ht(r,!0):(rt(t,0,en),e===void 0?e=i.rounding:rt(e,0,8),r=le(new i(r),t+1,e),n=Ht(r,!0,t+1)),n};P.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ht(i):(rt(t,0,en),e===void 0?e=a.rounding:rt(e,0,8),r=le(new a(i),t+ve(i)+1,e),n=Ht(r.abs(),!1,t+ve(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var t=this,e=t.constructor;return le(new e(t),ve(t)+1,e.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(t){var e,n,r,i,a,c,u=this,_=u.constructor,p=12,d=+(t=new _(t));if(!t.s)return new _(Be);if(u=new _(u),!u.s){if(t.s<1)throw Error(qe+"Infinity");return u}if(u.eq(Be))return u;if(r=_.precision,t.eq(Be))return le(u,r);if(e=t.e,n=t.d.length-1,c=e>=n,a=u.s,c){if((n=d<0?-d:d)<=rs){for(i=new _(Be),e=Math.ceil(r/ue+4),de=!1;n%2&&(i=i.times(u),Ki(i.d,e)),n=tn(n/2),n!==0;)u=u.times(u),Ki(u.d,e);return de=!0,t.s<0?new _(Be).div(i):le(i,r)}}else if(a<0)throw Error(qe+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,de=!1,i=t.times(Dn(u,r+p)),de=!0,i=as(i),i.s=a,i};P.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ve(i),r=Ht(i,n<=a.toExpNeg||n>=a.toExpPos)):(rt(t,1,en),e===void 0?e=a.rounding:rt(e,0,8),i=le(new a(i),t,e),n=ve(i),r=Ht(i,t<=n||n<=a.toExpNeg,t)),r};P.toSignificantDigits=P.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(rt(t,1,en),e===void 0?e=r.rounding:rt(e,0,8)),le(new r(n),t,e)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ve(t),n=t.constructor;return Ht(t,e<=n.toExpNeg||e>=n.toExpPos)};function is(t,e){var n,r,i,a,c,u,_,p,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),de?le(e,m):e;if(_=t.d,p=e.d,c=t.e,i=e.e,_=_.slice(),a=c-i,a){for(a<0?(r=_,a=-a,u=p.length):(r=p,i=c,u=_.length),c=Math.ceil(m/ue),u=c>u?c+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=_.length,a=p.length,u-a<0&&(a=u,r=p,p=_,_=r),n=0;a;)n=(_[--a]=_[a]+p[a]+n)/Ee|0,_[a]%=Ee;for(n&&(_.unshift(n),++i),u=_.length;_[--u]==0;)_.pop();return e.d=_,e.e=i,de?le(e,m):e}function rt(t,e,n){if(t!==~~t||t<e||t>n)throw Error(kt+t)}function Qe(t){var e,n,r,i=t.length-1,a="",c=t[0];if(i>0){for(a+=c,e=1;e<i;e++)r=t[e]+"",n=ue-r.length,n&&(a+=yt(n)),a+=r;c=t[e],r=c+"",n=ue-r.length,n&&(a+=yt(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return a+c}var _t=function(){function t(r,i){var a,c=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+c,r[u]=a%Ee|0,c=a/Ee|0;return c&&r.unshift(c),r}function e(r,i,a,c){var u,_;if(a!=c)_=a>c?1:-1;else for(u=_=0;u<a;u++)if(r[u]!=i[u]){_=r[u]>i[u]?1:-1;break}return _}function n(r,i,a){for(var c=0;a--;)r[a]-=c,c=r[a]<i[a]?1:0,r[a]=c*Ee+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,c){var u,_,p,d,m,A,x,Y,H,L,_e,ie,ae,Re,me,Ve,Se,ke,Fe=r.constructor,He=r.s==i.s?1:-1,Oe=r.d,oe=i.d;if(!r.s)return new Fe(r);if(!i.s)throw Error(qe+"Division by zero");for(_=r.e-i.e,Se=oe.length,me=Oe.length,x=new Fe(He),Y=x.d=[],p=0;oe[p]==(Oe[p]||0);)++p;if(oe[p]>(Oe[p]||0)&&--_,a==null?ie=a=Fe.precision:c?ie=a+(ve(r)-ve(i))+1:ie=a,ie<0)return new Fe(0);if(ie=ie/ue+2|0,p=0,Se==1)for(d=0,oe=oe[0],ie++;(p<me||d)&&ie--;p++)ae=d*Ee+(Oe[p]||0),Y[p]=ae/oe|0,d=ae%oe|0;else{for(d=Ee/(oe[0]+1)|0,d>1&&(oe=t(oe,d),Oe=t(Oe,d),Se=oe.length,me=Oe.length),Re=Se,H=Oe.slice(0,Se),L=H.length;L<Se;)H[L++]=0;ke=oe.slice(),ke.unshift(0),Ve=oe[0],oe[1]>=Ee/2&&++Ve;do d=0,u=e(oe,H,Se,L),u<0?(_e=H[0],Se!=L&&(_e=_e*Ee+(H[1]||0)),d=_e/Ve|0,d>1?(d>=Ee&&(d=Ee-1),m=t(oe,d),A=m.length,L=H.length,u=e(m,H,A,L),u==1&&(d--,n(m,Se<A?ke:oe,A))):(d==0&&(u=d=1),m=oe.slice()),A=m.length,A<L&&m.unshift(0),n(H,m,L),u==-1&&(L=H.length,u=e(oe,H,Se,L),u<1&&(d++,n(H,Se<L?ke:oe,L))),L=H.length):u===0&&(d++,H=[0]),Y[p++]=d,u&&H[0]?H[L++]=Oe[Re]||0:(H=[Oe[Re]],L=1);while((Re++<me||H[0]!==void 0)&&ie--)}return Y[0]||Y.shift(),x.e=_,le(x,c?a+ve(x)+1:a)}}();function as(t,e){var n,r,i,a,c,u,_=0,p=0,d=t.constructor,m=d.precision;if(ve(t)>16)throw Error(yi+ve(t));if(!t.s)return new d(Be);for(e==null?(de=!1,u=m):u=e,c=new d(.03125);t.abs().gte(.1);)t=t.times(c),p+=5;for(r=Math.log(Mt(2,p))/Math.LN10*2+5|0,u+=r,n=i=a=new d(Be),d.precision=u;;){if(i=le(i.times(t),u),n=n.times(++_),c=a.plus(_t(i,n,u)),Qe(c.d).slice(0,u)===Qe(a.d).slice(0,u)){for(;p--;)a=le(a.times(a),u);return d.precision=m,e==null?(de=!0,le(a,m)):a}a=c}}function ve(t){for(var e=t.e*ue,n=t.d[0];n>=10;n/=10)e++;return e}function Zr(t,e,n){if(e>t.LN10.sd())throw de=!0,n&&(t.precision=n),Error(qe+"LN10 precision limit exceeded");return le(new t(t.LN10),e)}function yt(t){for(var e="";t--;)e+="0";return e}function Dn(t,e){var n,r,i,a,c,u,_,p,d,m=1,A=10,x=t,Y=x.d,H=x.constructor,L=H.precision;if(x.s<1)throw Error(qe+(x.s?"NaN":"-Infinity"));if(x.eq(Be))return new H(0);if(e==null?(de=!1,p=L):p=e,x.eq(10))return e==null&&(de=!0),Zr(H,p);if(p+=A,H.precision=p,n=Qe(Y),r=n.charAt(0),a=ve(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Qe(x.d),r=n.charAt(0),m++;a=ve(x),r>1?(x=new H("0."+n),a++):x=new H(r+"."+n.slice(1))}else return _=Zr(H,p+2,L).times(a+""),x=Dn(new H(r+"."+n.slice(1)),p-A).plus(_),H.precision=L,e==null?(de=!0,le(x,L)):x;for(u=c=x=_t(x.minus(Be),x.plus(Be),p),d=le(x.times(x),p),i=3;;){if(c=le(c.times(d),p),_=u.plus(_t(c,new H(i),p)),Qe(_.d).slice(0,p)===Qe(u.d).slice(0,p))return u=u.times(2),a!==0&&(u=u.plus(Zr(H,p+2,L).times(a+""))),u=_t(u,new H(m),p),H.precision=L,e==null?(de=!0,le(u,L)):u;u=_,i+=2}}function Fi(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tn(n/ue),t.d=[],r=(n+1)%ue,n<0&&(r+=ue),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ue;r<i;)t.d.push(+e.slice(r,r+=ue));e=e.slice(r),r=ue-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),de&&(t.e>fr||t.e<-fr))throw Error(yi+n)}else t.s=0,t.e=0,t.d=[0];return t}function le(t,e,n){var r,i,a,c,u,_,p,d,m=t.d;for(c=1,a=m[0];a>=10;a/=10)c++;if(r=e-c,r<0)r+=ue,i=e,p=m[d=0];else{if(d=Math.ceil((r+1)/ue),a=m.length,d>=a)return t;for(p=a=m[d],c=1;a>=10;a/=10)c++;r%=ue,i=r-ue+c}if(n!==void 0&&(a=Mt(10,c-i-1),u=p/a%10|0,_=e<0||m[d+1]!==void 0||p%a,_=n<4?(u||_)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||_||n==6&&(r>0?i>0?p/Mt(10,c-i):0:m[d-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return _?(a=ve(t),m.length=1,e=e-a-1,m[0]=Mt(10,(ue-e%ue)%ue),t.e=tn(-e/ue)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=d,a=1,d--):(m.length=d+1,a=Mt(10,ue-r),m[d]=i>0?(p/Mt(10,c-i)%Mt(10,i)|0)*a:0),_)for(;;)if(d==0){(m[0]+=a)==Ee&&(m[0]=1,++t.e);break}else{if(m[d]+=a,m[d]!=Ee)break;m[d--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(de&&(t.e>fr||t.e<-fr))throw Error(yi+ve(t));return t}function ss(t,e){var n,r,i,a,c,u,_,p,d,m,A=t.constructor,x=A.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new A(t),de?le(e,x):e;if(_=t.d,m=e.d,r=e.e,p=t.e,_=_.slice(),c=p-r,c){for(d=c<0,d?(n=_,c=-c,u=m.length):(n=m,r=p,u=_.length),i=Math.max(Math.ceil(x/ue),u)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=_.length,u=m.length,d=i<u,d&&(u=i),i=0;i<u;i++)if(_[i]!=m[i]){d=_[i]<m[i];break}c=0}for(d&&(n=_,_=m,m=n,e.s=-e.s),u=_.length,i=m.length-u;i>0;--i)_[u++]=0;for(i=m.length;i>c;){if(_[--i]<m[i]){for(a=i;a&&_[--a]===0;)_[a]=Ee-1;--_[a],_[i]+=Ee}_[i]-=m[i]}for(;_[--u]===0;)_.pop();for(;_[0]===0;_.shift())--r;return _[0]?(e.d=_,e.e=r,de?le(e,x):e):new A(0)}function Ht(t,e,n){var r,i=ve(t),a=Qe(t.d),c=a.length;return e?(n&&(r=n-c)>0?a=a.charAt(0)+"."+a.slice(1)+yt(r):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+yt(-i-1)+a,n&&(r=n-c)>0&&(a+=yt(r))):i>=c?(a+=yt(i+1-c),n&&(r=n-i-1)>0&&(a=a+"."+yt(r))):((r=i+1)<c&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(a+="."),a+=yt(r))),t.s<0?"-"+a:a}function Ki(t,e){if(t.length>e)return t.length=e,!0}function os(t){var e,n,r;function i(a){var c=this;if(!(c instanceof i))return new i(a);if(c.constructor=i,a instanceof i){c.s=a.s,c.e=a.e,c.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(kt+a);if(a>0)c.s=1;else if(a<0)a=-a,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(a===~~a&&a<1e7){c.e=0,c.d=[a];return}return Fi(c,a.toString())}else if(typeof a!="string")throw Error(kt+a);if(a.charCodeAt(0)===45?(a=a.slice(1),c.s=-1):c.s=1,qu.test(a))Fi(c,a);else throw Error(kt+a)}if(i.prototype=P,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=os,i.config=i.set=Fu,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Fu(t){if(!t||typeof t!="object")throw Error(qe+"Object expected");var e,n,r,i=["precision",1,en,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tn(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(kt+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kt+n+": "+r);return this}var Ti=os(ju);Be=new Ti(1);var Ku=Ti,E;(function(t){t.AED="aed",t.AFN="afn",t.ALL="all",t.AMD="amd",t.ANG="ang",t.AOA="aoa",t.ARS="ars",t.AUD="aud",t.AWG="awg",t.AZN="azn",t.BAM="bam",t.BBD="bbd",t.BDT="bdt",t.BGN="bgn",t.BHD="bhd",t.BIF="bif",t.BMD="bmd",t.BND="bnd",t.BOB="bob",t.BOV="bov",t.BRL="brl",t.BSD="bsd",t.BTN="btn",t.BWP="bwp",t.BYN="byn",t.BYR="byr",t.BZD="bzd",t.CAD="cad",t.CDF="cdf",t.CHE="che",t.CHF="chf",t.CHW="chw",t.CLF="clf",t.CLP="clp",t.CNY="cny",t.COP="cop",t.COU="cou",t.CRC="crc",t.CUC="cuc",t.CUP="cup",t.CVE="cve",t.CZK="czk",t.DJF="djf",t.DKK="dkk",t.DOP="dop",t.DZD="dzd",t.EGP="egp",t.ERN="ern",t.ETB="etb",t.EUR="eur",t.FJD="fjd",t.FKP="fkp",t.GBP="gbp",t.GEL="gel",t.GHS="ghs",t.GIP="gip",t.GMD="gmd",t.GNF="gnf",t.GTQ="gtq",t.GYD="gyd",t.HKD="hkd",t.HNL="hnl",t.HRK="hrk",t.HTG="htg",t.HUF="huf",t.IDR="idr",t.ILS="ils",t.INR="inr",t.IQD="iqd",t.IRR="irr",t.ISK="isk",t.JMD="jmd",t.JOD="jod",t.JPY="jpy",t.KES="kes",t.KGS="kgs",t.KHR="khr",t.KMF="kmf",t.KPW="kpw",t.KRW="krw",t.KWD="kwd",t.KYD="kyd",t.KZT="kzt",t.LAK="lak",t.LBP="lbp",t.LKR="lkr",t.LRD="lrd",t.LSL="lsl",t.LTL="ltl",t.LVL="lvl",t.LYD="lyd",t.MAD="mad",t.MDL="mdl",t.MGA="mga",t.MKD="mkd",t.MMK="mmk",t.MNT="mnt",t.MOP="mop",t.MRO="mro",t.MUR="mur",t.MVR="mvr",t.MWK="mwk",t.MXN="mxn",t.MXV="mxv",t.MYR="myr",t.MZN="mzn",t.NAD="nad",t.NGN="ngn",t.NIO="nio",t.NOK="nok",t.NPR="npr",t.NZD="nzd",t.OMR="omr",t.PAB="pab",t.PEN="pen",t.PGK="pgk",t.PHP="php",t.PKR="pkr",t.PLN="pln",t.PYG="pyg",t.QAR="qar",t.RON="ron",t.RSD="rsd",t.RUB="rub",t.RWF="rwf",t.SAR="sar",t.SBD="sbd",t.SCR="scr",t.SDG="sdg",t.SEK="sek",t.SGD="sgd",t.SHP="shp",t.SLL="sll",t.SOS="sos",t.SRD="srd",t.SSP="ssp",t.STD="std",t.SVC="svc",t.SYP="syp",t.SZL="szl",t.THB="thb",t.TJS="tjs",t.TMT="tmt",t.TND="tnd",t.TOP="top",t.TRY="try",t.TTD="ttd",t.TWD="twd",t.TZS="tzs",t.UAH="uah",t.UGX="ugx",t.USD="usd",t.USN="usn",t.USS="uss",t.UYI="uyi",t.UYU="uyu",t.UZS="uzs",t.VEF="vef",t.VND="vnd",t.VUV="vuv",t.WST="wst",t.XAF="xaf",t.XAG="xag",t.XAU="xau",t.XBA="xba",t.XBB="xbb",t.XBC="xbc",t.XBD="xbd",t.XCD="xcd",t.XDR="xdr",t.XFU="xfu",t.XOF="xof",t.XPD="xpd",t.XPF="xpf",t.XPT="xpt",t.XSU="xsu",t.XTS="xts",t.XUA="xua",t.YER="yer",t.ZAR="zar",t.ZMW="zmw",t.ZWL="zwl"})(E||(E={}));const $u={[E.AED]:2,[E.AFN]:2,[E.ALL]:2,[E.AMD]:2,[E.ANG]:2,[E.AOA]:2,[E.ARS]:2,[E.AUD]:2,[E.AWG]:2,[E.AZN]:2,[E.BAM]:2,[E.BBD]:2,[E.BDT]:2,[E.BGN]:2,[E.BHD]:3,[E.BIF]:0,[E.BMD]:2,[E.BND]:2,[E.BOB]:2,[E.BOV]:2,[E.BRL]:2,[E.BSD]:2,[E.BTN]:2,[E.BWP]:2,[E.BYR]:0,[E.BYN]:2,[E.BZD]:2,[E.CAD]:2,[E.CDF]:2,[E.CHE]:2,[E.CHF]:2,[E.CHW]:2,[E.CLF]:0,[E.CLP]:0,[E.CNY]:2,[E.COP]:2,[E.COU]:2,[E.CRC]:2,[E.CUC]:2,[E.CUP]:2,[E.CVE]:2,[E.CZK]:2,[E.DJF]:0,[E.DKK]:2,[E.DOP]:2,[E.DZD]:2,[E.EGP]:2,[E.ERN]:2,[E.ETB]:2,[E.EUR]:2,[E.FJD]:2,[E.FKP]:2,[E.GBP]:2,[E.GEL]:2,[E.GHS]:2,[E.GIP]:2,[E.GMD]:2,[E.GNF]:0,[E.GTQ]:2,[E.GYD]:2,[E.HKD]:2,[E.HNL]:2,[E.HRK]:2,[E.HTG]:2,[E.HUF]:2,[E.IDR]:2,[E.ILS]:2,[E.INR]:2,[E.IQD]:3,[E.IRR]:2,[E.ISK]:0,[E.JMD]:2,[E.JOD]:3,[E.JPY]:0,[E.KES]:2,[E.KGS]:2,[E.KHR]:2,[E.KMF]:0,[E.KPW]:2,[E.KRW]:0,[E.KWD]:3,[E.KYD]:2,[E.KZT]:2,[E.LAK]:2,[E.LBP]:2,[E.LKR]:2,[E.LRD]:2,[E.LSL]:2,[E.LTL]:2,[E.LVL]:2,[E.LYD]:3,[E.MAD]:2,[E.MDL]:2,[E.MGA]:2,[E.MKD]:2,[E.MMK]:2,[E.MNT]:2,[E.MOP]:2,[E.MRO]:2,[E.MUR]:2,[E.MVR]:2,[E.MWK]:2,[E.MXN]:2,[E.MXV]:2,[E.MYR]:2,[E.MZN]:2,[E.NAD]:2,[E.NGN]:2,[E.NIO]:2,[E.NOK]:2,[E.NPR]:2,[E.NZD]:2,[E.OMR]:3,[E.PAB]:2,[E.PEN]:2,[E.PGK]:2,[E.PHP]:2,[E.PKR]:2,[E.PLN]:2,[E.PYG]:0,[E.QAR]:2,[E.RON]:2,[E.RSD]:2,[E.RUB]:2,[E.RWF]:0,[E.SAR]:2,[E.SBD]:2,[E.SCR]:2,[E.SDG]:2,[E.SEK]:2,[E.SGD]:2,[E.SHP]:2,[E.SLL]:2,[E.SOS]:2,[E.SRD]:2,[E.SSP]:2,[E.STD]:2,[E.SVC]:2,[E.SYP]:2,[E.SZL]:2,[E.THB]:2,[E.TJS]:2,[E.TMT]:2,[E.TND]:3,[E.TOP]:2,[E.TRY]:2,[E.TTD]:2,[E.TWD]:2,[E.TZS]:2,[E.UAH]:2,[E.UGX]:0,[E.USD]:2,[E.USN]:2,[E.USS]:2,[E.UYI]:0,[E.UYU]:2,[E.UZS]:2,[E.VEF]:2,[E.VND]:0,[E.VUV]:0,[E.WST]:2,[E.XAF]:0,[E.XAG]:0,[E.XAU]:0,[E.XBA]:0,[E.XBB]:0,[E.XBC]:0,[E.XBD]:0,[E.XCD]:2,[E.XDR]:0,[E.XFU]:0,[E.XOF]:0,[E.XPD]:0,[E.XPF]:0,[E.XPT]:0,[E.XSU]:0,[E.XTS]:0,[E.XUA]:0,[E.YER]:2,[E.ZAR]:2,[E.ZMW]:2,[E.ZWL]:2};function Yu(t,e="en-US"){const{amount:n,currency:r}=t;return Intl.NumberFormat(e,{style:"currency",currency:r}).format(zu(n,r))}function zu(t,e){const n=$u[e];return n==null?(console.warn(`Unexpected currency ${e}`),t):new Ku(t).dividedBy(10**n).toNumber()}var oc={formatPrice:Yu},fn={exports:{}};fn.exports;var $i;function Cu(){return $i||($i=1,function(t,e){var n=200,r="Expected a function",i="__lodash_hash_undefined__",a=1,c=2,u=1/0,_=9007199254740991,p="[object Arguments]",d="[object Array]",m="[object Boolean]",A="[object Date]",x="[object Error]",Y="[object Function]",H="[object GeneratorFunction]",L="[object Map]",_e="[object Number]",ie="[object Object]",ae="[object Promise]",Re="[object RegExp]",me="[object Set]",Ve="[object String]",Se="[object Symbol]",ke="[object WeakMap]",Fe="[object ArrayBuffer]",He="[object DataView]",Oe="[object Float32Array]",oe="[object Float64Array]",Tr="[object Int8Array]",Mn="[object Int16Array]",Un="[object Int32Array]",Sr="[object Uint8Array]",br="[object Uint8ClampedArray]",Pn="[object Uint16Array]",it="[object Uint32Array]",at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kn=/^\w*$/,nn=/^\./,Ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/[\\^$.*+?()[\]{}|]/g,st=/\\(\\)?/g,Bn=/^\[object .+?Constructor\]$/,rn=/^(?:0|[1-9]\d*)$/,se={};se[Oe]=se[oe]=se[Tr]=se[Mn]=se[Un]=se[Sr]=se[br]=se[Pn]=se[it]=!0,se[p]=se[d]=se[Fe]=se[m]=se[He]=se[A]=se[x]=se[Y]=se[L]=se[_e]=se[ie]=se[Re]=se[me]=se[Ve]=se[ke]=!1;var Gn=typeof nr=="object"&&nr&&nr.Object===Object&&nr,jt=typeof self=="object"&&self&&self.Object===Object&&self,$e=Gn||jt||Function("return this")(),an=e&&!e.nodeType&&e,qt=an&&!0&&t&&!t.nodeType&&t,Vn=qt&&qt.exports===an,Hn=Vn&&Gn.process,Zn=function(){try{return Hn&&Hn.binding("util")}catch{}}(),jn=Zn&&Zn.isTypedArray;function qn(o,f){for(var b=-1,O=o?o.length:0;++b<O&&f(o[b],b,o)!==!1;);return o}function Ar(o,f){for(var b=-1,O=o?o.length:0;++b<O;)if(f(o[b],b,o))return!0;return!1}function Ot(o){return function(f){return f==null?void 0:f[o]}}function Fn(o,f){for(var b=-1,O=Array(o);++b<o;)O[b]=f(b);return O}function Kn(o){return function(f){return o(f)}}function Ir(o,f){return o==null?void 0:o[f]}function q(o){var f=!1;if(o!=null&&typeof o.toString!="function")try{f=!!(o+"")}catch{}return f}function ot(o){var f=-1,b=Array(o.size);return o.forEach(function(O,C){b[++f]=[C,O]}),b}function s(o,f){return function(b){return o(f(b))}}function l(o){var f=-1,b=Array(o.size);return o.forEach(function(O){b[++f]=O}),b}var g=Array.prototype,y=Function.prototype,S=Object.prototype,T=$e["__core-js_shared__"],I=function(){var o=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),N=y.toString,w=S.hasOwnProperty,Z=S.toString,Q=RegExp("^"+N.call(w).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=$e.Symbol,re=$e.Uint8Array,De=s(Object.getPrototypeOf,Object),be=Object.create,sn=S.propertyIsEnumerable,on=g.splice,cs=s(Object.keys,Object),Nr=Ft($e,"DataView"),ln=Ft($e,"Map"),wr=Ft($e,"Promise"),Rr=Ft($e,"Set"),Or=Ft($e,"WeakMap"),un=Ft(Object,"create"),ds=Lt(Nr),ps=Lt(ln),fs=Lt(wr),hs=Lt(Rr),_s=Lt(Or),$n=z?z.prototype:void 0,Dr=$n?$n.valueOf:void 0,Si=$n?$n.toString:void 0;function Dt(o){var f=-1,b=o?o.length:0;for(this.clear();++f<b;){var O=o[f];this.set(O[0],O[1])}}function gs(){this.__data__=un?un(null):{}}function ms(o){return this.has(o)&&delete this.__data__[o]}function vs(o){var f=this.__data__;if(un){var b=f[o];return b===i?void 0:b}return w.call(f,o)?f[o]:void 0}function Es(o){var f=this.__data__;return un?f[o]!==void 0:w.call(f,o)}function ys(o,f){var b=this.__data__;return b[o]=un&&f===void 0?i:f,this}Dt.prototype.clear=gs,Dt.prototype.delete=ms,Dt.prototype.get=vs,Dt.prototype.has=Es,Dt.prototype.set=ys;function lt(o){var f=-1,b=o?o.length:0;for(this.clear();++f<b;){var O=o[f];this.set(O[0],O[1])}}function Ts(){this.__data__=[]}function Ss(o){var f=this.__data__,b=zn(f,o);if(b<0)return!1;var O=f.length-1;return b==O?f.pop():on.call(f,b,1),!0}function bs(o){var f=this.__data__,b=zn(f,o);return b<0?void 0:f[b][1]}function As(o){return zn(this.__data__,o)>-1}function Is(o,f){var b=this.__data__,O=zn(b,o);return O<0?b.push([o,f]):b[O][1]=f,this}lt.prototype.clear=Ts,lt.prototype.delete=Ss,lt.prototype.get=bs,lt.prototype.has=As,lt.prototype.set=Is;function ut(o){var f=-1,b=o?o.length:0;for(this.clear();++f<b;){var O=o[f];this.set(O[0],O[1])}}function Ns(){this.__data__={hash:new Dt,map:new(ln||lt),string:new Dt}}function ws(o){return Cn(this,o).delete(o)}function Rs(o){return Cn(this,o).get(o)}function Os(o){return Cn(this,o).has(o)}function Ds(o,f){return Cn(this,o).set(o,f),this}ut.prototype.clear=Ns,ut.prototype.delete=ws,ut.prototype.get=Rs,ut.prototype.has=Os,ut.prototype.set=Ds;function Yn(o){var f=-1,b=o?o.length:0;for(this.__data__=new ut;++f<b;)this.add(o[f])}function Ls(o){return this.__data__.set(o,i),this}function xs(o){return this.__data__.has(o)}Yn.prototype.add=Yn.prototype.push=Ls,Yn.prototype.has=xs;function ct(o){this.__data__=new lt(o)}function Ms(){this.__data__=new lt}function Us(o){return this.__data__.delete(o)}function Ps(o){return this.__data__.get(o)}function ks(o){return this.__data__.has(o)}function Bs(o,f){var b=this.__data__;if(b instanceof lt){var O=b.__data__;if(!ln||O.length<n-1)return O.push([o,f]),this;b=this.__data__=new ut(O)}return b.set(o,f),this}ct.prototype.clear=Ms,ct.prototype.delete=Us,ct.prototype.get=Ps,ct.prototype.has=ks,ct.prototype.set=Bs;function Gs(o,f){var b=dt(o)||Di(o)?Fn(o.length,String):[],O=b.length,C=!!O;for(var B in o)w.call(o,B)&&!(C&&(B=="length"||Ni(B,O)))&&b.push(B);return b}function zn(o,f){for(var b=o.length;b--;)if(Oi(o[b][0],f))return b;return-1}function Vs(o){return Kt(o)?be(o):{}}var Hs=eo();function Zs(o,f){return o&&Hs(o,f,Qn)}function bi(o,f){f=Xn(f,o)?[f]:Ai(f);for(var b=0,O=f.length;o!=null&&b<O;)o=o[Wn(f[b++])];return b&&b==O?o:void 0}function js(o){return Z.call(o)}function qs(o,f){return o!=null&&f in Object(o)}function Lr(o,f,b,O,C){return o===f?!0:o==null||f==null||!Kt(o)&&!Jn(f)?o!==o&&f!==f:Fs(o,f,Lr,b,O,C)}function Fs(o,f,b,O,C,B){var J=dt(o),ge=dt(f),fe=d,Ae=d;J||(fe=vt(o),fe=fe==p?ie:fe),ge||(Ae=vt(f),Ae=Ae==p?ie:Ae);var Me=fe==ie&&!q(o),Ue=Ae==ie&&!q(f),Le=fe==Ae;if(Le&&!Me)return B||(B=new ct),J||xi(o)?Ii(o,f,b,O,C,B):to(o,f,fe,b,O,C,B);if(!(C&c)){var Ze=Me&&w.call(o,"__wrapped__"),je=Ue&&w.call(f,"__wrapped__");if(Ze||je){var Et=Ze?o.value():o,pt=je?f.value():f;return B||(B=new ct),b(Et,pt,O,C,B)}}return Le?(B||(B=new ct),no(o,f,b,O,C,B)):!1}function Ks(o,f,b,O){var C=b.length,B=C;if(o==null)return!B;for(o=Object(o);C--;){var J=b[C];if(J[2]?J[1]!==o[J[0]]:!(J[0]in o))return!1}for(;++C<B;){J=b[C];var ge=J[0],fe=o[ge],Ae=J[1];if(J[2]){if(fe===void 0&&!(ge in o))return!1}else{var Me=new ct,Ue;if(!(Ue===void 0?Lr(Ae,fe,O,a|c,Me):Ue))return!1}}return!0}function $s(o){if(!Kt(o)||so(o))return!1;var f=Mr(o)||q(o)?Q:Bn;return f.test(Lt(o))}function Ys(o){return Jn(o)&&Ur(o.length)&&!!se[Z.call(o)]}function zs(o){return typeof o=="function"?o:o==null?_o:typeof o=="object"?dt(o)?Ws(o[0],o[1]):Xs(o):go(o)}function Cs(o){if(!oo(o))return cs(o);var f=[];for(var b in Object(o))w.call(o,b)&&b!="constructor"&&f.push(b);return f}function Xs(o){var f=ro(o);return f.length==1&&f[0][2]?Ri(f[0][0],f[0][1]):function(b){return b===o||Ks(b,o,f)}}function Ws(o,f){return Xn(o)&&wi(f)?Ri(Wn(o),f):function(b){var O=po(b,o);return O===void 0&&O===f?fo(b,o):Lr(f,O,void 0,a|c)}}function Js(o){return function(f){return bi(f,o)}}function Qs(o){if(typeof o=="string")return o;if(Pr(o))return Si?Si.call(o):"";var f=o+"";return f=="0"&&1/o==-u?"-0":f}function Ai(o){return dt(o)?o:lo(o)}function eo(o){return function(f,b,O){for(var C=-1,B=Object(f),J=O(f),ge=J.length;ge--;){var fe=J[++C];if(b(B[fe],fe,B)===!1)break}return f}}function Ii(o,f,b,O,C,B){var J=C&c,ge=o.length,fe=f.length;if(ge!=fe&&!(J&&fe>ge))return!1;var Ae=B.get(o);if(Ae&&B.get(f))return Ae==f;var Me=-1,Ue=!0,Le=C&a?new Yn:void 0;for(B.set(o,f),B.set(f,o);++Me<ge;){var Ze=o[Me],je=f[Me];if(O)var Et=J?O(je,Ze,Me,f,o,B):O(Ze,je,Me,o,f,B);if(Et!==void 0){if(Et)continue;Ue=!1;break}if(Le){if(!Ar(f,function(pt,xt){if(!Le.has(xt)&&(Ze===pt||b(Ze,pt,O,C,B)))return Le.add(xt)})){Ue=!1;break}}else if(!(Ze===je||b(Ze,je,O,C,B))){Ue=!1;break}}return B.delete(o),B.delete(f),Ue}function to(o,f,b,O,C,B,J){switch(b){case He:if(o.byteLength!=f.byteLength||o.byteOffset!=f.byteOffset)return!1;o=o.buffer,f=f.buffer;case Fe:return!(o.byteLength!=f.byteLength||!O(new re(o),new re(f)));case m:case A:case _e:return Oi(+o,+f);case x:return o.name==f.name&&o.message==f.message;case Re:case Ve:return o==f+"";case L:var ge=ot;case me:var fe=B&c;if(ge||(ge=l),o.size!=f.size&&!fe)return!1;var Ae=J.get(o);if(Ae)return Ae==f;B|=a,J.set(o,f);var Me=Ii(ge(o),ge(f),O,C,B,J);return J.delete(o),Me;case Se:if(Dr)return Dr.call(o)==Dr.call(f)}return!1}function no(o,f,b,O,C,B){var J=C&c,ge=Qn(o),fe=ge.length,Ae=Qn(f),Me=Ae.length;if(fe!=Me&&!J)return!1;for(var Ue=fe;Ue--;){var Le=ge[Ue];if(!(J?Le in f:w.call(f,Le)))return!1}var Ze=B.get(o);if(Ze&&B.get(f))return Ze==f;var je=!0;B.set(o,f),B.set(f,o);for(var Et=J;++Ue<fe;){Le=ge[Ue];var pt=o[Le],xt=f[Le];if(O)var Mi=J?O(xt,pt,Le,f,o,B):O(pt,xt,Le,o,f,B);if(!(Mi===void 0?pt===xt||b(pt,xt,O,C,B):Mi)){je=!1;break}Et||(Et=Le=="constructor")}if(je&&!Et){var er=o.constructor,tr=f.constructor;er!=tr&&"constructor"in o&&"constructor"in f&&!(typeof er=="function"&&er instanceof er&&typeof tr=="function"&&tr instanceof tr)&&(je=!1)}return B.delete(o),B.delete(f),je}function Cn(o,f){var b=o.__data__;return ao(f)?b[typeof f=="string"?"string":"hash"]:b.map}function ro(o){for(var f=Qn(o),b=f.length;b--;){var O=f[b],C=o[O];f[b]=[O,C,wi(C)]}return f}function Ft(o,f){var b=Ir(o,f);return $s(b)?b:void 0}var vt=js;(Nr&&vt(new Nr(new ArrayBuffer(1)))!=He||ln&&vt(new ln)!=L||wr&&vt(wr.resolve())!=ae||Rr&&vt(new Rr)!=me||Or&&vt(new Or)!=ke)&&(vt=function(o){var f=Z.call(o),b=f==ie?o.constructor:void 0,O=b?Lt(b):void 0;if(O)switch(O){case ds:return He;case ps:return L;case fs:return ae;case hs:return me;case _s:return ke}return f});function io(o,f,b){f=Xn(f,o)?[f]:Ai(f);for(var O,C=-1,J=f.length;++C<J;){var B=Wn(f[C]);if(!(O=o!=null&&b(o,B)))break;o=o[B]}if(O)return O;var J=o?o.length:0;return!!J&&Ur(J)&&Ni(B,J)&&(dt(o)||Di(o))}function Ni(o,f){return f=f??_,!!f&&(typeof o=="number"||rn.test(o))&&o>-1&&o%1==0&&o<f}function Xn(o,f){if(dt(o))return!1;var b=typeof o;return b=="number"||b=="symbol"||b=="boolean"||o==null||Pr(o)?!0:kn.test(o)||!at.test(o)||f!=null&&o in Object(f)}function ao(o){var f=typeof o;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?o!=="__proto__":o===null}function so(o){return!!I&&I in o}function oo(o){var f=o&&o.constructor,b=typeof f=="function"&&f.prototype||S;return o===b}function wi(o){return o===o&&!Kt(o)}function Ri(o,f){return function(b){return b==null?!1:b[o]===f&&(f!==void 0||o in Object(b))}}var lo=xr(function(o){o=co(o);var f=[];return nn.test(o)&&f.push(""),o.replace(Ke,function(b,O,C,B){f.push(C?B.replace(st,"$1"):O||b)}),f});function Wn(o){if(typeof o=="string"||Pr(o))return o;var f=o+"";return f=="0"&&1/o==-u?"-0":f}function Lt(o){if(o!=null){try{return N.call(o)}catch{}try{return o+""}catch{}}return""}function xr(o,f){if(typeof o!="function"||f&&typeof f!="function")throw new TypeError(r);var b=function(){var O=arguments,C=f?f.apply(this,O):O[0],B=b.cache;if(B.has(C))return B.get(C);var J=o.apply(this,O);return b.cache=B.set(C,J),J};return b.cache=new(xr.Cache||ut),b}xr.Cache=ut;function Oi(o,f){return o===f||o!==o&&f!==f}function Di(o){return uo(o)&&w.call(o,"callee")&&(!sn.call(o,"callee")||Z.call(o)==p)}var dt=Array.isArray;function Li(o){return o!=null&&Ur(o.length)&&!Mr(o)}function uo(o){return Jn(o)&&Li(o)}function Mr(o){var f=Kt(o)?Z.call(o):"";return f==Y||f==H}function Ur(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=_}function Kt(o){var f=typeof o;return!!o&&(f=="object"||f=="function")}function Jn(o){return!!o&&typeof o=="object"}function Pr(o){return typeof o=="symbol"||Jn(o)&&Z.call(o)==Se}var xi=jn?Kn(jn):Ys;function co(o){return o==null?"":Qs(o)}function po(o,f,b){var O=o==null?void 0:bi(o,f);return O===void 0?b:O}function fo(o,f){return o!=null&&io(o,f,qs)}function Qn(o){return Li(o)?Gs(o):Cs(o)}function ho(o,f,b){var O=dt(o)||xi(o);if(f=zs(f),b==null)if(O||Kt(o)){var C=o.constructor;O?b=dt(o)?new C:[]:b=Mr(C)?Vs(De(o)):{}}else b={};return(O?qn:Zs)(o,function(B,J,ge){return f(b,B,J,ge)}),b}function _o(o){return o}function go(o){return Xn(o)?Ot(Wn(o)):Js(o)}t.exports=ho}(fn,fn.exports)),fn.exports}var Xu=Cu(),Wu=Xr(Xu);class lc{constructor(e,n,r,i){this.platform=Je.DESKTOP,this.instanceId="123456789012345678",this.configuration=ns(),this.source=null,this.sourceOrigin="",this.sdkVersion="mock",this.mobileAppVersion="unknown",this.frameId="aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",this.eventBus=new Yi,this.clientId=e,this.commands=this._updateCommandMocks({}),this.guildId=n,this.channelId=r,this.locationId=i,this.customId=null,this.referrerId=null}_updateCommandMocks(e){return this.commands=Wu(Object.assign({},Ju,e),(n,r,i)=>{n[i]=async(...a)=>(console.info(`DiscordSDKMock: ${String(i)}(${JSON.stringify(a)})`),await r(...a))}),this.commands}emitReady(){this.emitEvent("READY",void 0)}close(...e){console.info(`DiscordSDKMock: close(${JSON.stringify(e)})`)}ready(){return Promise.resolve()}async subscribe(e,n,...r){return await this.eventBus.on(e,n)}async unsubscribe(e,n,...r){return await this.eventBus.off(e,n)}emitEvent(e,n){this.eventBus.emit(e,n)}}const Ju={authorize:()=>Promise.resolve({code:"mock_code"}),setActivity:()=>Promise.resolve({name:"mock_activity_name",type:0}),getChannel:()=>Promise.resolve({id:"mock_channel_id",name:"mock_channel_name",type:Er.GUILD_TEXT,voice_states:[],messages:[]}),getSkus:()=>Promise.resolve({skus:[]}),getEntitlements:()=>Promise.resolve({entitlements:[]}),startPurchase:()=>Promise.resolve([]),setConfig:()=>Promise.resolve({use_interactive_pip:!1}),userSettingsGetLocale:()=>Promise.resolve({locale:""}),openExternalLink:()=>Promise.resolve({opened:!1}),encourageHardwareAcceleration:()=>Promise.resolve({enabled:!0}),captureLog:()=>Promise.resolve(null),setOrientationLockState:()=>Promise.resolve(null),openInviteDialog:()=>Promise.resolve(null),getPlatformBehaviors:()=>Promise.resolve({iosKeyboardResizesView:!0}),getChannelPermissions:()=>Promise.resolve({permissions:ra(1234567890)}),getInstanceConnectedParticipants:()=>Promise.resolve({participants:[]}),openShareMomentDialog:()=>Promise.resolve(null),authenticate:()=>Promise.resolve({access_token:"mock_token",user:{username:"mock_user_username",discriminator:"mock_user_discriminator",id:"mock_user_id",avatar:null,public_flags:1},scopes:[],expires:new Date(2121,1,1).toString(),application:{description:"mock_app_description",icon:"mock_app_icon",id:"mock_app_id",name:"mock_app_name"}}),shareLink:()=>Promise.resolve({success:!1,didSendMessage:!1,didCopyLink:!1}),initiateImageUpload:()=>Promise.resolve({image_url:"https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b52aa9e99b832574a53_full_logo_blurple_RGB.png"}),getRelationships:()=>Promise.resolve({relationships:[{type:1,user:{username:"mock_friend_username",flags:0,bot:!1,discriminator:"mock_friend_discriminator",id:"mock_friend_id_1",avatar:null}},{type:1,user:{username:"mock_friend_username_with_nickname",flags:0,bot:!1,discriminator:"mock_friend_discriminator_with_nickname",id:"mock_friend_id_2",avatar:null},nickname:"mock_friend_nickname_for_user"},{type:1,user:{username:"mock_friend_username_with_since",flags:0,bot:!1,discriminator:"mock_friend_discriminator_with_since",id:"mock_friend_id_3",avatar:null},since:"2021-06-29T00:32:37.180813+00:00"}]}),inviteUserEmbedded:()=>Promise.resolve(null),getUser:()=>Promise.resolve({username:"mock_friend_username",flags:0,bot:!1,discriminator:"mock_friend_discriminator",id:"mock_friend_id_1",avatar:null}),getQuestEnrollmentStatus:()=>Promise.resolve({quest_id:"mock_quest_id",is_enrolled:!1,enrolled_at:null}),questStartTimer:()=>Promise.resolve({success:!0}),getActivityInstanceConnectedParticipants:()=>Promise.resolve({participants:[]}),shareInteraction:()=>Promise.resolve({success:!1})};function Qu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const ls=/\{([a-z]+)\}/g;function ec(t){const e=t.replace(ls,(n,r)=>`(?<${r}>[\\w-]+)`);return new RegExp(`${e}(/|$)`)}function tc({originalURL:t,prefix:e,prefixHost:n,target:r}){const i=new URL(`https://${r}`),a=ec(i.host.replace(/%7B/g,"{").replace(/%7D/g,"}")),c=t.toString().match(a);if(c==null)return t;const u=new URL(t.toString());u.host=n,u.pathname=e.replace(ls,(p,d)=>{var m;const A=(m=c.groups)===null||m===void 0?void 0:m[d];if(A==null)throw new Error("Misconfigured route.");return A});const _=t.pathname.startsWith("/")?t.pathname.slice(1):t.pathname;return u.pathname+=u.pathname.endsWith("/")?_:"/"+_,u.pathname=u.pathname.replace(i.pathname,""),t.pathname.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function hn(t,e=window.location.protocol,n=window.location.host){return new URL(t,`${e}//${n}`)}function uc(t,{patchFetch:e=!0,patchWebSocket:n=!0,patchXhr:r=!0,patchSrcAttributes:i=!1}={}){if(!(typeof window>"u")){if(e){const a=window.fetch;window.fetch=function(c,u){if(c instanceof Request){const p=Ut({url:hn(c.url),mappings:t}),d=u??{},m=Qu(d,["url"]);return Object.keys(Request.prototype).forEach(A=>{if(A!=="url")try{m[A]=c[A]}catch(x){console.warn(`Remapping fetch request key "${A}" failed`,x)}}),new Promise((A,x)=>{try{c.blob().then(Y=>{c.method.toUpperCase()!=="HEAD"&&c.method.toUpperCase()!=="GET"&&Y.size>0&&(m.body=Y),A(a(new Request(p,m)))})}catch(Y){x(Y)}})}const _=Ut({url:c instanceof URL?c:hn(c),mappings:t});return a(_,u)}}if(n){class a extends WebSocket{constructor(u,_){const p=Ut({url:u instanceof URL?u:hn(u),mappings:t});super(p,_)}}window.WebSocket=a}if(r){const a=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(c,u,_,p,d){const m=Ut({url:hn(u),mappings:t});a.apply(this,[c,m,_,p,d])}}if(i){const a=function(_){for(const p of _)p.type==="attributes"&&p.attributeName==="src"?ir(p.target,t):p.type==="childList"&&p.addedNodes.forEach(d=>{ir(d,t),us(d,t)})},c=new MutationObserver(a),u={attributeFilter:["src"],childList:!0,subtree:!0};c.observe(window.document,u),window.document.querySelectorAll("[src]").forEach(_=>{ir(_,t)})}}}function us(t,e){t.hasChildNodes()&&t.childNodes.forEach(n=>{ir(n,e),us(n,e)})}function ir(t,e){if(t instanceof HTMLElement&&t.hasAttribute("src")){const n=t.getAttribute("src"),r=hn(n??"");if(r.host===window.location.host)return;if(t.tagName.toLowerCase()==="script")nc(t,{url:r,mappings:e});else{const i=Ut({url:r,mappings:e}).toString();i!==n&&t.setAttribute("src",i)}}}function nc(t,{url:e,mappings:n}){const r=Ut({url:e,mappings:n});if(e.toString()!==r.toString()){const i=document.createElement(t.tagName);i.innerHTML=t.innerHTML;for(const a of t.attributes)i.setAttribute(a.name,a.value);i.setAttribute("src",Ut({url:e,mappings:n}).toString()),t.after(i),t.remove()}}function Ut({url:t,mappings:e}){const n=new URL(t.toString());for(const r of e){const i=tc({originalURL:n,prefix:r.prefix,target:r.target,prefixHost:window.location.host});if(i!=null&&(i==null?void 0:i.toString())!==t.toString())return i}return n}const{Commands:cc}=Fl;export{cc as Commands,Fl as Common,ac as DiscordSDK,lc as DiscordSDKMock,ee as Events,zr as Orientation,sc as PermissionUtils,rc as Permissions,Je as Platform,oc as PriceUtils,Gi as RPCCloseCodes,Yr as RPCErrorCodes,ic as Responses,Ut as attemptRemap,uc as patchUrlMappings};
